<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>LSAY_EDA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="LSAY_EDA_files/libs/clipboard/clipboard.min.js"></script>
<script src="LSAY_EDA_files/libs/quarto-html/quarto.js"></script>
<script src="LSAY_EDA_files/libs/quarto-html/popper.min.js"></script>
<script src="LSAY_EDA_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="LSAY_EDA_files/libs/quarto-html/anchor.min.js"></script>
<link href="LSAY_EDA_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="LSAY_EDA_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="LSAY_EDA_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="LSAY_EDA_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="LSAY_EDA_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="LSAY_EDA_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="LSAY_EDA_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="LSAY_EDA_files/libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="LSAY_EDA_files/libs/tabwid-1.1.3/tabwid.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#y03" id="toc-y03" class="nav-link active" data-scroll-target="#y03">Y03</a>
  <ul class="collapse">
  <li><a href="#how-many-primary-school-teachers-are-in-the-data-set" id="toc-how-many-primary-school-teachers-are-in-the-data-set" class="nav-link" data-scroll-target="#how-many-primary-school-teachers-are-in-the-data-set">How many primary school teachers are in the data set?</a></li>
  </ul></li>
  <li><a href="#how-many-people-were-working-as-a-primary-school-teacher-at-any-point-of-responding-to-the-questions" id="toc-how-many-people-were-working-as-a-primary-school-teacher-at-any-point-of-responding-to-the-questions" class="nav-link" data-scroll-target="#how-many-people-were-working-as-a-primary-school-teacher-at-any-point-of-responding-to-the-questions">How many people were working as a primary school teacher at any point of responding to the questions?</a></li>
  <li><a href="#what-did-these-people-study" id="toc-what-did-these-people-study" class="nav-link" data-scroll-target="#what-did-these-people-study">What did these people study?</a></li>
  <li><a href="#understanding-how-many-school-leavers-enrol-in-primary-school-teaching-courses" id="toc-understanding-how-many-school-leavers-enrol-in-primary-school-teaching-courses" class="nav-link" data-scroll-target="#understanding-how-many-school-leavers-enrol-in-primary-school-teaching-courses">Understanding how many school leavers enrol in primary school teaching courses</a></li>
  <li><a href="#pisa-pvs" id="toc-pisa-pvs" class="nav-link" data-scroll-target="#pisa-pvs">PISA PVs</a>
  <ul class="collapse">
  <li><a href="#y06-lsay" id="toc-y06-lsay" class="nav-link" data-scroll-target="#y06-lsay">Y06 LSAY</a></li>
  </ul></li>
  <li><a href="#pisa-pvs-1" id="toc-pisa-pvs-1" class="nav-link" data-scroll-target="#pisa-pvs-1">PISA PVs</a></li>
  <li><a href="#lsay-2009" id="toc-lsay-2009" class="nav-link" data-scroll-target="#lsay-2009">LSAY 2009</a>
  <ul class="collapse">
  <li><a href="#plausible-values-for-2009" id="toc-plausible-values-for-2009" class="nav-link" data-scroll-target="#plausible-values-for-2009">Plausible values for 2009</a></li>
  </ul></li>
  <li><a href="#lsay-2015" id="toc-lsay-2015" class="nav-link" data-scroll-target="#lsay-2015">LSAY 2015</a></li>
  <li><a href="#plausible-values-for-2015" id="toc-plausible-values-for-2015" class="nav-link" data-scroll-target="#plausible-values-for-2015">Plausible values for 2015</a>
  <ul class="collapse">
  <li><a href="#quantiles-across-the-years" id="toc-quantiles-across-the-years" class="nav-link" data-scroll-target="#quantiles-across-the-years">Quantiles Across the Years</a></li>
  <li><a href="#comparing-teacher-performance-with-other-professionals" id="toc-comparing-teacher-performance-with-other-professionals" class="nav-link" data-scroll-target="#comparing-teacher-performance-with-other-professionals">Comparing Teacher Performance with other Professionals</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">LSAY_EDA</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell" data-messages="false">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"R/00-setup.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 ----- 
You are neat! 
 ------ 
    \   
     \
        (.)_(.)
     _ (   _   ) _
    / \/`-----'\/ \
  __\ ( (     ) ) /__
  )   /\ \._./ /\   (
   )_/ /|\   /|\ \_(  [nosig]
  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>LSAY2003 <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"data/lsay_data/au.edu.anu.ada.ddi.01111_v7.1_unrestricted.dta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="y03" class="level2">
<h2 class="anchored" data-anchor-id="y03">Y03</h2>
<section id="how-many-primary-school-teachers-are-in-the-data-set" class="level3">
<h3 class="anchored" data-anchor-id="how-many-primary-school-teachers-are-in-the-data-set">How many primary school teachers are in the data set?</h3>
<p>To explore this in the Y03 data, we will look for the ASCED code 070103 (Teacher Education: Primary) in variables relating to questions focused at main area of study/training in this course at any given year: LBCZ087, LCCZ087, LDCZ087, LEC087, LFC087, LGC087, LHC087, LIC087, LJC088, LKC088</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>UNIQUE_STUDYING_TEACHERS <span class="ot">&lt;-</span> LSAY2003 <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># selecting variables for current area of study</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LBCZ087, LCCZ087, LDCZ087, LEC087, LFC087, LGC087, LHC087, LIC087, LJC088, LKC088) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mutate across the observation to replace 0 = not '70103', 1 = is '70103', NA values retained</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(LBCZ087, LCCZ087, LDCZ087, LEC087, LFC087, LGC087, LHC087, LIC087, LJC088, LKC088),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">as.character</span>(.) <span class="sc">==</span> <span class="st">'70103'</span> <span class="sc">~</span> <span class="dv">1</span>,  <span class="co"># PSE as 1</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">is.na</span>(.) <span class="sc">~</span> <span class="cn">NA_integer_</span>, <span class="co"># Retain NA</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>                   <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span>  <span class="co"># All else as 0</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>                 ))) <span class="sc">%&gt;%</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create new column where any 1 in the row = TRUE, no 1 = FALSE</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">TEACHERS =</span> <span class="fu">if_any</span>(<span class="fu">c</span>(LBCZ087, LCCZ087, LDCZ087, LEC087, LFC087, LGC087, LHC087, LIC087, LJC088, LKC088), <span class="sc">~</span> . <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Keep TRUE values</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(TEACHERS)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating table to display results</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a> UNIQUE_STUDYING_TEACHERS_Y03 <span class="ot">&lt;-</span> <span class="fu">kbl</span>(UNIQUE_STUDYING_TEACHERS, <span class="at">caption =</span> <span class="st">"Count of Primary School Education Students in Y03 Data."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_paper</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">background =</span> <span class="st">"orange"</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scroll_box</span>(<span class="at">width =</span> <span class="st">"1200px"</span>, <span class="at">height =</span> <span class="st">"400px"</span>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaying table </span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>UNIQUE_STUDYING_TEACHERS_Y03</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; overflow-x: scroll; width:1200px; ">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Count of Primary School Education Students in Y03 Data.</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">STIDSTD</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LBCZ087</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LCCZ087</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LDCZ087</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LEC087</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LFC087</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LGC087</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LHC087</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LIC087</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LJC088</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LKC088</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">TEACHERS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">921</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">1949</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2416</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">2659</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2999</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">3440</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3473</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">3863</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4386</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">4504</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4663</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">4966</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5641</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">6127</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7557</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">7834</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7993</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">8170</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9031</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">9138</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9362</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">9432</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">10049</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">10377</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">10725</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">11022</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11837</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">11866</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11947</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">TRUE</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</div>
<p>There were <strong>29</strong> people studying primary school teaching at some point in the Y03 data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Deeper look at  student ID 2659 and 9362</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Looking at variable LHC087 (Main area of study: 2010) as both individuals observations were 0 here.</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>closer_look <span class="ot">&lt;-</span> LSAY2003 <span class="sc">%&gt;%</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STIDSTD <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2659</span>, <span class="dv">10049</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LDCZ087, LHC087) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NEW_COURSE =</span> <span class="fu">c</span>(<span class="st">"Business Management"</span>, <span class="st">"Human Movement"</span>))</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(closer_look, <span class="at">caption =</span> <span class="st">"Closer look at students who left teaching."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_paper</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">background =</span> <span class="st">"orange"</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scroll_box</span>(<span class="at">width =</span> <span class="st">"945px"</span>, <span class="at">height =</span> <span class="st">"200px"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:200px; overflow-x: scroll; width:945px; ">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Closer look at students who left teaching.</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">STIDSTD</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LDCZ087</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">LHC087</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">NEW_COURSE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2659</td>
<td style="text-align: right;">70103</td>
<td style="text-align: right;">80301</td>
<td style="text-align: left;">Business Management</td>
</tr>
<tr class="even">
<td style="text-align: right;">10049</td>
<td style="text-align: right;">70103</td>
<td style="text-align: right;">69903</td>
<td style="text-align: left;">Human Movement</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</div>
<ul>
<li><p>Student 2659 went into another field of study four years after: Business management (80301)</p></li>
<li><p>Student 10049 went into another field of study four years after: Human Movement (69903)</p></li>
</ul>
</section>
</section>
<section id="how-many-people-were-working-as-a-primary-school-teacher-at-any-point-of-responding-to-the-questions" class="level2">
<h2 class="anchored" data-anchor-id="how-many-people-were-working-as-a-primary-school-teacher-at-any-point-of-responding-to-the-questions">How many people were working as a primary school teacher at any point of responding to the questions?</h2>
<p>To see how many people were working as a primary school teacher at any point of responding to the questions, we focused on finding the ANSZVO code 2412 in variables related to the question:</p>
<p>“What kind of work do you do?” (LDD025, LED025, LFD025, LGD025, LHD029, LID029, LJD029, LKD029).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seeing the amount of people who were primary school teachers at some point</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>UNIQUE_TEACHERS_Y03 <span class="ot">&lt;-</span> LSAY2003 <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Selecting variables related to question: 'What kind of work do you do?'</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LDD025, LED025, LFD025, LGD025, LHD029, LID029, LJD029, LKD029) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Converting to character</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(LDD025, LED025, LFD025, LGD025, LHD029, LID029, LJD029, LKD029), as.character)) <span class="sc">%&gt;%</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mutate across the observation 0 = not teacher, 1 = teacher, NA = NA. </span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(LDD025, LED025, LFD025, LGD025, LHD029, LID029, LJD029, LKD029), <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    . <span class="sc">==</span> <span class="st">'2412'</span> <span class="sc">~</span> <span class="dv">1</span>, <span class="co"># Teacher = 1</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(.) <span class="sc">~</span> <span class="cn">NA_integer_</span>, <span class="co"># NA values retained</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> <span class="co"># Non-teacher = 0.</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  ))) <span class="sc">%&gt;%</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># New column where 1 across row = TRUE(Teacher), all else = FALSE </span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">legit_teachers =</span> <span class="fu">if_any</span>(<span class="fu">c</span>(LDD025, LED025, LFD025, LGD025, LHD029, LID029, LJD029, LKD029), <span class="sc">~</span> . <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(legit_teachers) <span class="co"># Filtering for TRUE condition</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating table to display results</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a> UNIQUE_TEACHERS_Y03_table <span class="ot">&lt;-</span> <span class="fu">kbl</span>(UNIQUE_TEACHERS_Y03, <span class="at">caption =</span> <span class="st">"Number of Teachers in the Y03 Data."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_paper</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">background =</span> <span class="st">"orange"</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scroll_box</span>(<span class="at">width =</span> <span class="st">"1200px"</span>, <span class="at">height =</span> <span class="st">"400px"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Getting the IDs of the teachers</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>teacher_ids_y03 <span class="ot">&lt;-</span> UNIQUE_TEACHERS_Y03<span class="sc">$</span>STIDSTD</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="what-did-these-people-study" class="level2">
<h2 class="anchored" data-anchor-id="what-did-these-people-study">What did these people study?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting IDs of previously identified Y03 Teachers</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>teacher_jobs <span class="ot">&lt;-</span> LSAY2003[LSAY2003<span class="sc">$</span>STIDSTD <span class="sc">%in%</span> UNIQUE_TEACHERS_Y03<span class="sc">$</span>STIDSTD, ]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Using those IDs and selecting area of study variables across given years</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>selected_columns <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'STIDSTD'</span>, <span class="st">'LBCZ087'</span>, <span class="st">'LCCZ087'</span>, <span class="st">'LDCZ087'</span>, <span class="st">'LEC087'</span>, <span class="st">'LFC087'</span>, <span class="st">'LGC087'</span>, <span class="st">'LHC087'</span>, <span class="st">'LIC087'</span>, <span class="st">'LJC088'</span>, <span class="st">'LKC088'</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>teacher_jobs <span class="ot">&lt;-</span> teacher_jobs[, selected_columns]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a table for what these individuals studied</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>fields <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Codes =</span> <span class="fu">c</span>(<span class="dv">70101</span>, <span class="dv">70103</span>, <span class="dv">70109</span>, <span class="dv">70199</span>, <span class="dv">70115</span>, <span class="dv">90503</span>, <span class="dv">91703</span>, <span class="dv">92101</span>, <span class="dv">100101</span>, <span class="dv">80101</span>),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Field_of_Education</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Teacher Education: Early Childhood"</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Teacher Education: Primary"</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Teacher Education: Vocational Education and Training"</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Teacher Education, n.e.c."</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"English as a Second Language Teaching"</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Children's Services"</span>, </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Religious Studies"</span>, </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sport and Recreation Activities"</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Music"</span>, <span class="st">"Accounting"</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a table</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a> fields <span class="ot">&lt;-</span> <span class="fu">kbl</span>(fields, <span class="at">caption =</span> <span class="st">"Area of Study for Teachers in Y03."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_paper</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">background =</span> <span class="st">"orange"</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scroll_box</span>(<span class="at">width =</span> <span class="st">"1000px"</span>, <span class="at">height =</span> <span class="st">"300px"</span>)</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>fields</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:1000px; ">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Area of Study for Teachers in Y03.</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">Codes</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">Field_of_Education</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">70101</td>
<td style="text-align: left;">Teacher Education: Early Childhood</td>
</tr>
<tr class="even">
<td style="text-align: right;">70103</td>
<td style="text-align: left;">Teacher Education: Primary</td>
</tr>
<tr class="odd">
<td style="text-align: right;">70109</td>
<td style="text-align: left;">Teacher Education: Vocational Education and Training</td>
</tr>
<tr class="even">
<td style="text-align: right;">70199</td>
<td style="text-align: left;">Teacher Education, n.e.c.</td>
</tr>
<tr class="odd">
<td style="text-align: right;">70115</td>
<td style="text-align: left;">English as a Second Language Teaching</td>
</tr>
<tr class="even">
<td style="text-align: right;">90503</td>
<td style="text-align: left;">Children's Services</td>
</tr>
<tr class="odd">
<td style="text-align: right;">91703</td>
<td style="text-align: left;">Religious Studies</td>
</tr>
<tr class="even">
<td style="text-align: right;">92101</td>
<td style="text-align: left;">Sport and Recreation Activities</td>
</tr>
<tr class="odd">
<td style="text-align: right;">100101</td>
<td style="text-align: left;">Music</td>
</tr>
<tr class="even">
<td style="text-align: right;">80101</td>
<td style="text-align: left;">Accounting</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</div>
</section>
<section id="understanding-how-many-school-leavers-enrol-in-primary-school-teaching-courses" class="level1">
<h1>Understanding how many school leavers enrol in primary school teaching courses</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Taking the IDs of individuals who had enrolled in primary school teaching at some point</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>studying_teachers <span class="ot">&lt;-</span> <span class="fu">unique</span>(UNIQUE_STUDYING_TEACHERS<span class="sc">$</span>STIDSTD)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the LSAY2003 data for those IDs and high school leaving variables.</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>studying_teachers_y12 <span class="ot">&lt;-</span> LSAY2003 <span class="sc">%&gt;%</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STIDSTD <span class="sc">%in%</span> studying_teachers) <span class="sc">%&gt;%</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LBWDV01, LCWDV01, LEWDV01, LIWDV01) <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">Studying_Teacher =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., LBWDV01, LCWDV01, LEWDV01, LIWDV01) <span class="sc">==</span> <span class="dv">1</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Only two of those studying primary school teaching in 2003 LSAY were school leavers. However both seemed to have return back to school to complete.</p>
<p>2999 &amp; 10049 (leavers)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Closer look at the school leavers (year and level)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>school_leavers_year_level <span class="ot">&lt;-</span> LSAY2003 <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STIDSTD <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2999</span>, <span class="dv">10049</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LBB001, LCB001, LDB001, LEB001, LEA005, LFB001, LFA006)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>school_leavers_year_level</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 8
  STIDSTD LBB001         LCB001         LDB001    LEB001    LEA005 LFB001 LFA006
    &lt;dbl&gt; &lt;dbl+lbl&gt;      &lt;dbl+lbl&gt;      &lt;dbl+lbl&gt; &lt;dbl+lbl&gt; &lt;dbl+&gt; &lt;dbl+&gt; &lt;dbl+&gt;
1    2999  2 [2 Year 11] NA             NA        NA        NA     NA     NA    
2   10049 NA              2 [2 Year 11] NA        NA        NA     NA     NA    </code></pre>
</div>
</div>
<p>Both left in year 11.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>school_leavers_year <span class="ot">&lt;-</span> LSAY2003 <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STIDSTD <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2999</span>, <span class="dv">10049</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Selecting variables related to, "In which month and year did you leave school?"</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LBA002B, LCA002B, LDA002B, LEA002B, LFA002Y)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>school_leavers_year</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  STIDSTD LBA002B    LCA002B   LDA002B   LEA002B   LFA002Y  
    &lt;dbl&gt; &lt;dbl+lbl&gt;  &lt;dbl+lbl&gt; &lt;dbl+lbl&gt; &lt;dbl+lbl&gt; &lt;dbl+lbl&gt;
1    2999 3 [3 2003] NA        NA        NA        NA       
2   10049 4 [4 2004] NA        NA        NA        NA       </code></pre>
</div>
</div>
<p><strong>2999 LEFT IN 2003, 10049 LEFT IN 2004.</strong></p>
<ul>
<li><p>2999 left in 2003 then went back to complete year 12 in 2005</p></li>
<li><p>10049 left in 2004 and then went back to complete year 12 in 2005.</p></li>
</ul>
</section>
<section id="pisa-pvs" class="level1">
<h1>PISA PVs</h1>
<ul>
<li><p>Determine the percentage of primary teachers in the sample below the National proficient standard</p></li>
<li><p>Determine the average achievement of primary teachers in the sample (in PISA points)</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># understanding PVs (exploratory understanding)</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># using intsvy package to calculate average scores for each state</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intsvy)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>pisa_state <span class="ot">&lt;-</span> <span class="fu">pisa.mean.pv</span>(<span class="at">pvlabel =</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">by =</span> <span class="st">"STATEID"</span>, <span class="at">data =</span> LSAY2003) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">STATE =</span> <span class="fu">c</span>(<span class="st">"ACT"</span>, <span class="st">"NSW"</span>, <span class="st">"VIC"</span>, <span class="st">"QLD"</span>, <span class="st">"SA"</span>, <span class="st">"WA"</span>, <span class="st">"TAS"</span>, <span class="st">"NT"</span>), <span class="at">.before =</span> <span class="fu">everything</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>STATEID)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a> pisa_state <span class="ot">&lt;-</span> <span class="fu">kbl</span>(pisa_state, <span class="at">caption =</span> <span class="st">"Average Math Performance Across States"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_paper</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">background =</span> <span class="st">"orange"</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scroll_box</span>(<span class="at">width =</span> <span class="st">"1000px"</span>, <span class="at">height =</span> <span class="st">"300px"</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>pisa_state</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:1000px; ">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Average Math Performance Across States</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">STATE</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">Freq</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">Mean</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">s.e.</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">SD</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: orange !important; position: sticky; top: 0; background-color: #FFFFFF;">s.e</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ACT</td>
<td style="text-align: right;">726</td>
<td style="text-align: right;">555.09</td>
<td style="text-align: right;">3.35</td>
<td style="text-align: right;">92.90</td>
<td style="text-align: right;">2.84</td>
</tr>
<tr class="even">
<td style="text-align: left;">NSW</td>
<td style="text-align: right;">2363</td>
<td style="text-align: right;">531.37</td>
<td style="text-align: right;">4.81</td>
<td style="text-align: right;">94.22</td>
<td style="text-align: right;">3.04</td>
</tr>
<tr class="odd">
<td style="text-align: left;">VIC</td>
<td style="text-align: right;">2020</td>
<td style="text-align: right;">514.01</td>
<td style="text-align: right;">4.89</td>
<td style="text-align: right;">91.93</td>
<td style="text-align: right;">2.19</td>
</tr>
<tr class="even">
<td style="text-align: left;">QLD</td>
<td style="text-align: right;">1631</td>
<td style="text-align: right;">531.07</td>
<td style="text-align: right;">4.90</td>
<td style="text-align: right;">93.05</td>
<td style="text-align: right;">1.99</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SA</td>
<td style="text-align: right;">1039</td>
<td style="text-align: right;">540.24</td>
<td style="text-align: right;">4.99</td>
<td style="text-align: right;">92.94</td>
<td style="text-align: right;">2.73</td>
</tr>
<tr class="even">
<td style="text-align: left;">WA</td>
<td style="text-align: right;">1482</td>
<td style="text-align: right;">552.20</td>
<td style="text-align: right;">4.48</td>
<td style="text-align: right;">89.71</td>
<td style="text-align: right;">2.62</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TAS</td>
<td style="text-align: right;">680</td>
<td style="text-align: right;">515.80</td>
<td style="text-align: right;">9.22</td>
<td style="text-align: right;">90.40</td>
<td style="text-align: right;">3.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">NT</td>
<td style="text-align: right;">429</td>
<td style="text-align: right;">511.99</td>
<td style="text-align: right;">5.70</td>
<td style="text-align: right;">91.54</td>
<td style="text-align: right;">4.25</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</div>
<p>“In mathematical literacy, the average performance of students in the Australian Capital Territory was significantly higher than the average achieved by students in New South Wales, Queensland, Victoria, Tasmania and the Northern Territory, and students from the Australian Capital Territory, Western Australia, South Australia, New South Wales and Queensland attained a higher average score than students in the Northern Territory. However, the performance of students in Victoria and Tasmania was not significantly different from the performance of students in the Northern Territory. These differences are more pronounced than those in maths in PISA 2000, perhaps because this measure of mathematical literacy is better defined, being the focus of <a href="https://www.acer.org/files/PISA_screen.pdf">PISA 2003.”</a></p>
<p>Testing concordance of results using the <em>Rrepest</em> package. Note that this will take quite some time as it has to compute lots of replicates.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>LSAY2003_teachflag <span class="ot">&lt;-</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  LSAY2003 <span class="sc">|&gt;</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">teacher =</span> <span class="fu">if_else</span>(STIDSTD <span class="sc">%in%</span> teacher_ids_y03, T, F))</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>Rrepest<span class="sc">::</span><span class="fu">Rrepest</span>(<span class="at">data =</span> LSAY2003_teachflag,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">svy =</span> <span class="st">"PISA"</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">est =</span> <span class="fu">est</span>(<span class="fu">c</span>(<span class="st">"mean"</span>,<span class="st">"std"</span>),<span class="st">"pv@math"</span>),</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"teacher"</span>),</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">cm.weights =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">"w_fstr"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">80</span>)),</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">tabl =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-3f9cbc68{}.cl-3f99b89c{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3f99b8a6{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3f9ae8fc{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f9ae906{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f9ae907{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f9ae910{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f9af2a2{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2a3{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2a4{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2a5{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2ac{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2ad{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2ae{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2b6{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2b7{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2c0{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2c1{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2ca{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2cb{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2cc{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2d4{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2d5{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2d6{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2d7{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2de{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9af2df{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-3f9cbc68"><thead><tr style="overflow-wrap:break-word;"><th rowspan="3" class="cl-3f9af2a2"><p class="cl-3f9ae8fc"><span class="cl-3f99b89c">teacher</span></p></th><th colspan="4" class="cl-3f9af2a3"><p class="cl-3f9ae906"><span class="cl-3f99b89c">pv@math</span></p></th></tr><tr style="overflow-wrap:break-word;"><th colspan="2" class="cl-3f9af2ad"><p class="cl-3f9ae906"><span class="cl-3f99b89c">mean</span></p></th><th colspan="2" class="cl-3f9af2ae"><p class="cl-3f9ae906"><span class="cl-3f99b89c">std</span></p></th></tr><tr style="overflow-wrap:break-word;"><th class="cl-3f9af2c0"><p class="cl-3f9ae906"><span class="cl-3f99b89c">B</span></p></th><th class="cl-3f9af2c1"><p class="cl-3f9ae906"><span class="cl-3f99b89c">SE</span></p></th><th class="cl-3f9af2c1"><p class="cl-3f9ae906"><span class="cl-3f99b89c">B</span></p></th><th class="cl-3f9af2ca"><p class="cl-3f9ae906"><span class="cl-3f99b89c">SE</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-3f9af2cb"><p class="cl-3f9ae907"><span class="cl-3f99b8a6">FALSE</span></p></td><td class="cl-3f9af2cc"><p class="cl-3f9ae910"><span class="cl-3f99b8a6">530.3</span></p></td><td class="cl-3f9af2d4"><p class="cl-3f9ae910"><span class="cl-3f99b8a6">2.4</span></p></td><td class="cl-3f9af2d4"><p class="cl-3f9ae910"><span class="cl-3f99b8a6">92.9</span></p></td><td class="cl-3f9af2d5"><p class="cl-3f9ae910"><span class="cl-3f99b8a6">2.4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-3f9af2d6"><p class="cl-3f9ae907"><span class="cl-3f99b8a6">TRUE</span></p></td><td class="cl-3f9af2d7"><p class="cl-3f9ae910"><span class="cl-3f99b8a6">554.0</span></p></td><td class="cl-3f9af2de"><p class="cl-3f9ae910"><span class="cl-3f99b8a6">10.5</span></p></td><td class="cl-3f9af2de"><p class="cl-3f9ae910"><span class="cl-3f99b8a6">64.8</span></p></td><td class="cl-3f9af2df"><p class="cl-3f9ae910"><span class="cl-3f99b8a6">5.3</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Seems as though the level 3 proficiency levels for mathematics literacy is 482 in later years as well. * <a href="https://nces.ed.gov/surveys/pisa/pisa2018/pdf/MathProfLevelDescriptionV2.pdf">2018</a> * <a href="https://nces.ed.gov/surveys/pisa/pisa2022/docs/DescriptionsOf2022ProficiencyLevels-TableI31.pdf">2022</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>LSAY2003_proficiency <span class="ot">&lt;-</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  LSAY2003_teachflag <span class="sc">|&gt;</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(PV1MATH<span class="sc">:</span>PV5MATH,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">if_else</span>(. <span class="sc">&gt;=</span> <span class="dv">482</span>, <span class="st">"Proficient"</span>, <span class="st">"Not proficient"</span>, <span class="at">missing =</span> <span class="cn">NA_character_</span>),</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">.names =</span> <span class="st">"{col}proficient"</span>))</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>Rrepest<span class="sc">::</span><span class="fu">Rrepest</span>(<span class="at">data =</span> LSAY2003_proficiency,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">svy =</span> <span class="st">"PISA"</span>,</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">est =</span> <span class="fu">est</span>(<span class="st">"freq"</span>,<span class="st">"pv@mathproficient"</span>),</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">by =</span> <span class="st">"teacher"</span>,</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">cm.weights =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">"w_fstr"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">80</span>)), <span class="co"># Our replicate weights have different names to those in PISA 2015 </span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">tabl =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-46d77b8a{}.cl-46d4c57a{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-46d4c584{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-46d5e838{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-46d5e839{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-46d5e842{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-46d5e843{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-46d5f01c{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f01d{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f01e{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f026{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f027{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f028{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f030{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f031{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f032{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f03a{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f03b{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f044{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f045{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f046{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5f04e{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-46d77b8a"><thead><tr style="overflow-wrap:break-word;"><th rowspan="3" class="cl-46d5f01c"><p class="cl-46d5e838"><span class="cl-46d4c57a">teacher</span></p></th><th colspan="2" class="cl-46d5f01d"><p class="cl-46d5e839"><span class="cl-46d4c57a">Not proficient</span></p></th><th colspan="2" class="cl-46d5f01d"><p class="cl-46d5e839"><span class="cl-46d4c57a">Proficient</span></p></th></tr><tr style="overflow-wrap:break-word;"><th colspan="4" class="cl-46d5f027"><p class="cl-46d5e839"><span class="cl-46d4c57a">pv@mathproficient</span></p></th></tr><tr style="overflow-wrap:break-word;"><th class="cl-46d5f031"><p class="cl-46d5e839"><span class="cl-46d4c57a">B</span></p></th><th class="cl-46d5f032"><p class="cl-46d5e839"><span class="cl-46d4c57a">SE</span></p></th><th class="cl-46d5f031"><p class="cl-46d5e839"><span class="cl-46d4c57a">B</span></p></th><th class="cl-46d5f032"><p class="cl-46d5e839"><span class="cl-46d4c57a">SE</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-46d5f03a"><p class="cl-46d5e842"><span class="cl-46d4c584">FALSE</span></p></td><td class="cl-46d5f03b"><p class="cl-46d5e843"><span class="cl-46d4c584">30.3</span></p></td><td class="cl-46d5f044"><p class="cl-46d5e843"><span class="cl-46d4c584">1.7</span></p></td><td class="cl-46d5f03b"><p class="cl-46d5e843"><span class="cl-46d4c584">69.7</span></p></td><td class="cl-46d5f044"><p class="cl-46d5e843"><span class="cl-46d4c584">1.7</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-46d5f045"><p class="cl-46d5e842"><span class="cl-46d4c584">TRUE</span></p></td><td class="cl-46d5f046"><p class="cl-46d5e843"><span class="cl-46d4c584">13.4</span></p></td><td class="cl-46d5f04e"><p class="cl-46d5e843"><span class="cl-46d4c584">7.0</span></p></td><td class="cl-46d5f046"><p class="cl-46d5e843"><span class="cl-46d4c584">86.6</span></p></td><td class="cl-46d5f04e"><p class="cl-46d5e843"><span class="cl-46d4c584">7.0</span></p></td></tr></tbody></table></div>
</div>
</div>
<section id="y06-lsay" class="level2">
<h2 class="anchored" data-anchor-id="y06-lsay">Y06 LSAY</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>LSAY2006 <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"data/lsay_data/au.edu.anu.ada.ddi.01137_v10.1_unrestricted.dta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2006 COHORT - exploring those who studied primary school teaching</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>STUDYING_TEACHERS_2006 <span class="ot">&lt;-</span> LSAY2006 <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># selecting variables for current area of study</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LBC087, LCC087, LDC087, LEC087, LFC087, LGC088, LHC088, LIC088, LJC088, LKC088) <span class="sc">%&gt;%</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mutate across the observation to replace 0 = not '70103', 1 = is '70103'</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(LBC087, LCC087, LDC087, LEC087, LFC087, LGC088, LHC088, LIC088, LJC088, LKC088),</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">as.character</span>(.) <span class="sc">==</span> <span class="st">'70103'</span> <span class="sc">~</span> <span class="dv">1</span>,  <span class="co"># PSE as 1</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">is.na</span>(.) <span class="sc">~</span> <span class="cn">NA_integer_</span>, <span class="co"># Retain NA</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>                   <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span>  <span class="co"># All else as 0</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>                 ))) <span class="sc">%&gt;%</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create new column where any 1 in the row = TRUE, no 1 = FALSE</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">unique_teachers =</span> <span class="fu">if_any</span>(<span class="fu">c</span>(LBC087, LCC087, LDC087, LEC087, LFC087, LGC088, LHC088, LIC088, LJC088, LKC088), <span class="sc">~</span> . <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Keep TRUE values</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(unique_teachers)</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>STUDYING_TEACHERS_2006</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 29 × 12
   STIDSTD LBC087 LCC087 LDC087 LEC087 LFC087 LGC088 LHC088 LIC088 LJC088 LKC088
     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1     742     NA     NA     NA     NA     NA     NA     NA      1     NA     NA
 2     746     NA     NA     NA      0     NA      1     NA     NA     NA     NA
 3     947     NA     NA     NA      1     NA     NA     NA     NA     NA     NA
 4    1530     NA     NA     NA     NA     NA     NA     NA      0      1     NA
 5    1628     NA     NA     NA     NA      1     NA     NA     NA     NA     NA
 6    4340     NA     NA     NA     NA     NA     NA      1     NA     NA     NA
 7    5391     NA     NA     NA     NA     NA     NA      1     NA     NA     NA
 8    5904     NA     NA     NA      0      1     NA     NA     NA     NA     NA
 9    6239     NA     NA     NA     NA     NA      1     NA     NA     NA     NA
10    6263     NA     NA     NA      1     NA     NA     NA     NA     NA     NA
# ℹ 19 more rows
# ℹ 1 more variable: unique_teachers &lt;lgl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Looking at people who were at the time working as PS Teachers</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>LEGIT_TEACHERS_2006 <span class="ot">&lt;-</span> LSAY2006 <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Selecting variables for kind of work</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LBD011, LCD024, LDD024, LED029, LFD029, LGD029, LHD029, LID029, LJD029, LKD029) <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mutate across the observation </span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(LBD011, LCD024, LDD024, LED029, LFD029, LGD029, LHD029, LID029, LJD029, LKD029),</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">as.character</span>(.) <span class="sc">==</span> <span class="st">'2412'</span> <span class="sc">~</span> <span class="dv">1</span>,  <span class="co"># PSE as 1</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">is.na</span>(.) <span class="sc">~</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>                   <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span>  <span class="co"># All else as 0</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>                 ))) <span class="sc">%&gt;%</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># column for TRUE = legit teachers, FALSE = not teachers</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">legit_teachers =</span> <span class="fu">if_any</span>(<span class="fu">c</span>(LBD011, LCD024, LDD024, LED029, LFD029, LGD029, LHD029, LID029, LJD029, LKD029), <span class="sc">~</span> . <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter for TRUE condition</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(legit_teachers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Taking a look at Y06 Teachers Area of Study</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>teacher_jobs_06 <span class="ot">&lt;-</span> LSAY2006[LSAY2006<span class="sc">$</span>STIDSTD <span class="sc">%in%</span> LEGIT_TEACHERS_2006<span class="sc">$</span>STIDSTD, ]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting teacher student IDs and variables related to area of study across the years</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>selected_columns <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'STIDSTD'</span>, <span class="st">'LBC087'</span>, <span class="st">'LCC087'</span>, <span class="st">'LDC087'</span>, <span class="st">'LEC087'</span>, <span class="st">'LFC087'</span>, <span class="st">'LGC088'</span>, <span class="st">'LHC088'</span>, <span class="st">'LIC088'</span>, <span class="st">'LJC088'</span>, <span class="st">'LKC088'</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>teacher_jobs_06 <span class="ot">&lt;-</span> teacher_jobs_06[, selected_columns]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a table to see what the teachers studied.</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>aos_2006 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Code =</span> <span class="fu">c</span>(<span class="dv">100705</span>, <span class="dv">100103</span>, <span class="dv">100101</span>, <span class="dv">80399</span>, <span class="dv">70103</span>, <span class="dv">70101</span>, <span class="dv">70105</span>, <span class="dv">70199</span>, <span class="dv">91701</span>, <span class="dv">60901</span>, <span class="dv">61399</span>, <span class="dv">60101</span>, <span class="dv">91703</span>, <span class="dv">80101</span>, <span class="dv">81101</span>, <span class="dv">91523</span>, <span class="dv">90513</span>),</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Field =</span> <span class="fu">c</span>(</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Written Communication"</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Drama and Theatre Studies"</span>,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Music"</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Business and Management, n.e.c."</span>,</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Teacher Education: Primary"</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Teacher Education: Early Childhood"</span>,</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Teacher Education: Secondary"</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Teacher Education, n.e.c."</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Philosophy"</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Optometry"</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Public Health, n.e.c."</span>,</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"General Medicine"</span>,</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Religious Studies"</span>,</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Accounting"</span>,</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Banking and Finance"</span>,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Literature"</span>,</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Counselling"</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>aos_2006 <span class="ot">&lt;-</span> <span class="fu">kable</span>(aos_2006, <span class="at">caption =</span> <span class="st">"Field of Education Codes 2006"</span>, <span class="at">align =</span> <span class="st">"c"</span>, <span class="at">booktabs =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">background =</span> <span class="st">"orange"</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>aos_2006</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<caption>Field of Education Codes 2006</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; color: white !important; background-color: orange !important;">Code</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; color: white !important; background-color: orange !important;">Field</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">100705</td>
<td style="text-align: center;">Written Communication</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">100103</td>
<td style="text-align: center;">Drama and Theatre Studies</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">100101</td>
<td style="text-align: center;">Music</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">80399</td>
<td style="text-align: center;">Business and Management, n.e.c.</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">70103</td>
<td style="text-align: center;">Teacher Education: Primary</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">70101</td>
<td style="text-align: center;">Teacher Education: Early Childhood</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">70105</td>
<td style="text-align: center;">Teacher Education: Secondary</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">70199</td>
<td style="text-align: center;">Teacher Education, n.e.c.</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">91701</td>
<td style="text-align: center;">Philosophy</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">60901</td>
<td style="text-align: center;">Optometry</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">61399</td>
<td style="text-align: center;">Public Health, n.e.c.</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">60101</td>
<td style="text-align: center;">General Medicine</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">91703</td>
<td style="text-align: center;">Religious Studies</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">80101</td>
<td style="text-align: center;">Accounting</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">81101</td>
<td style="text-align: center;">Banking and Finance</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">91523</td>
<td style="text-align: center;">Literature</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">90513</td>
<td style="text-align: center;">Counselling</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>studying_teachers_06 <span class="ot">&lt;-</span> <span class="fu">unique</span>(LEGIT_TEACHERS_2006<span class="sc">$</span>STIDSTD)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># filter the LSAY2003 data for those IDs and high school leaving variables.</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>school_leavers_06 <span class="ot">&lt;-</span> LSAY2006 <span class="sc">%&gt;%</span> </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STIDSTD <span class="sc">%in%</span> studying_teachers_06) <span class="sc">%&gt;%</span> </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LBWDV01, LCWDV01, LDWDV01, LEWDV01, LFWDV01) <span class="sc">%&gt;%</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">Studying_Teacher =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., LBWDV01, LCWDV01, LDWDV01, LEWDV01, LFWDV01) <span class="sc">==</span> <span class="dv">1</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="pisa-pvs-1" class="level1">
<h1>PISA PVs</h1>
<ul>
<li><p>Determine the percentage of primary teachers in the sample below the National proficient standard</p></li>
<li><p>Determine the average achievement of primary teachers in the sample (in PISA points)</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>teacher_ids_2006 <span class="ot">&lt;-</span> LEGIT_TEACHERS_2006<span class="sc">$</span>STIDSTD</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>LSAY2006_teachflag <span class="ot">&lt;-</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  LSAY2006 <span class="sc">|&gt;</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">teacher =</span> <span class="fu">if_else</span>(STIDSTD <span class="sc">%in%</span> teacher_ids_2006, T, F))</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>Rrepest<span class="sc">::</span><span class="fu">Rrepest</span>(<span class="at">data =</span> LSAY2006_teachflag,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">svy =</span> <span class="st">"PISA"</span>,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">est =</span> <span class="fu">est</span>(<span class="fu">c</span>(<span class="st">"mean"</span>,<span class="st">"std"</span>),<span class="st">"pv@math"</span>),</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"teacher"</span>),</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">cm.weights =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">"w_fstr"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">80</span>)),</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">tabl =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-4f6074fa{}.cl-4f5dadce{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f5dadd8{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f5ed974{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f5ed97e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f5ed97f{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f5ed988{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f5ee112{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee11c{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee11d{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee11e{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee11f{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee130{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee131{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee132{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee13a{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee13b{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee13c{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee144{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee145{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee146{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee14e{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee14f{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee150{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee158{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee159{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f5ee15a{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-4f6074fa"><thead><tr style="overflow-wrap:break-word;"><th rowspan="3" class="cl-4f5ee112"><p class="cl-4f5ed974"><span class="cl-4f5dadce">teacher</span></p></th><th colspan="4" class="cl-4f5ee11c"><p class="cl-4f5ed97e"><span class="cl-4f5dadce">pv@math</span></p></th></tr><tr style="overflow-wrap:break-word;"><th colspan="2" class="cl-4f5ee130"><p class="cl-4f5ed97e"><span class="cl-4f5dadce">mean</span></p></th><th colspan="2" class="cl-4f5ee131"><p class="cl-4f5ed97e"><span class="cl-4f5dadce">std</span></p></th></tr><tr style="overflow-wrap:break-word;"><th class="cl-4f5ee13b"><p class="cl-4f5ed97e"><span class="cl-4f5dadce">B</span></p></th><th class="cl-4f5ee13c"><p class="cl-4f5ed97e"><span class="cl-4f5dadce">SE</span></p></th><th class="cl-4f5ee13c"><p class="cl-4f5ed97e"><span class="cl-4f5dadce">B</span></p></th><th class="cl-4f5ee144"><p class="cl-4f5ed97e"><span class="cl-4f5dadce">SE</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-4f5ee145"><p class="cl-4f5ed97f"><span class="cl-4f5dadd8">FALSE</span></p></td><td class="cl-4f5ee146"><p class="cl-4f5ed988"><span class="cl-4f5dadd8">518.6</span></p></td><td class="cl-4f5ee14e"><p class="cl-4f5ed988"><span class="cl-4f5dadd8">3.0</span></p></td><td class="cl-4f5ee14e"><p class="cl-4f5ed988"><span class="cl-4f5dadd8">87.9</span></p></td><td class="cl-4f5ee14f"><p class="cl-4f5ed988"><span class="cl-4f5dadd8">1.2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4f5ee150"><p class="cl-4f5ed97f"><span class="cl-4f5dadd8">TRUE</span></p></td><td class="cl-4f5ee158"><p class="cl-4f5ed988"><span class="cl-4f5dadd8">550.7</span></p></td><td class="cl-4f5ee159"><p class="cl-4f5ed988"><span class="cl-4f5dadd8">10.4</span></p></td><td class="cl-4f5ee159"><p class="cl-4f5ed988"><span class="cl-4f5dadd8">67.2</span></p></td><td class="cl-4f5ee15a"><p class="cl-4f5ed988"><span class="cl-4f5dadd8">8.2</span></p></td></tr></tbody></table></div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>LSAY2006_proficiency <span class="ot">&lt;-</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  LSAY2006_teachflag <span class="sc">|&gt;</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(PV1MATH<span class="sc">:</span>PV5MATH,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">if_else</span>(. <span class="sc">&gt;=</span> <span class="dv">482</span>, <span class="st">"Proficient"</span>, <span class="st">"Not proficient"</span>, <span class="at">missing =</span> <span class="cn">NA_character_</span>),</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">.names =</span> <span class="st">"{col}proficient"</span>))</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>Rrepest<span class="sc">::</span><span class="fu">Rrepest</span>(<span class="at">data =</span> LSAY2006_proficiency,</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">svy =</span> <span class="st">"PISA"</span>,</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">est =</span> <span class="fu">est</span>(<span class="st">"freq"</span>,<span class="st">"pv@mathproficient"</span>),</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">by =</span> <span class="st">"teacher"</span>,</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">cm.weights =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">"w_fstr"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">80</span>)), </span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">tabl =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-57bdbaae{}.cl-57bb1a6a{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-57bb1a74{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-57bc3346{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-57bc3350{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-57bc3351{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-57bc3352{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-57bc3ab2{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3abc{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3abd{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3ac6{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3ac7{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3ac8{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3ac9{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3ad0{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3ad1{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3ad2{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3ada{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3adb{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3ae4{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3ae5{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57bc3ae6{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-57bdbaae"><thead><tr style="overflow-wrap:break-word;"><th rowspan="3" class="cl-57bc3ab2"><p class="cl-57bc3346"><span class="cl-57bb1a6a">teacher</span></p></th><th colspan="2" class="cl-57bc3abc"><p class="cl-57bc3350"><span class="cl-57bb1a6a">Not proficient</span></p></th><th colspan="2" class="cl-57bc3abc"><p class="cl-57bc3350"><span class="cl-57bb1a6a">Proficient</span></p></th></tr><tr style="overflow-wrap:break-word;"><th colspan="4" class="cl-57bc3ac7"><p class="cl-57bc3350"><span class="cl-57bb1a6a">pv@mathproficient</span></p></th></tr><tr style="overflow-wrap:break-word;"><th class="cl-57bc3ad0"><p class="cl-57bc3350"><span class="cl-57bb1a6a">B</span></p></th><th class="cl-57bc3ad1"><p class="cl-57bc3350"><span class="cl-57bb1a6a">SE</span></p></th><th class="cl-57bc3ad0"><p class="cl-57bc3350"><span class="cl-57bb1a6a">B</span></p></th><th class="cl-57bc3ad1"><p class="cl-57bc3350"><span class="cl-57bb1a6a">SE</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-57bc3ad2"><p class="cl-57bc3351"><span class="cl-57bb1a74">FALSE</span></p></td><td class="cl-57bc3ada"><p class="cl-57bc3352"><span class="cl-57bb1a74">34.0</span></p></td><td class="cl-57bc3adb"><p class="cl-57bc3352"><span class="cl-57bb1a74">1.2</span></p></td><td class="cl-57bc3ada"><p class="cl-57bc3352"><span class="cl-57bb1a74">66.0</span></p></td><td class="cl-57bc3adb"><p class="cl-57bc3352"><span class="cl-57bb1a74">1.2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-57bc3ae4"><p class="cl-57bc3351"><span class="cl-57bb1a74">TRUE</span></p></td><td class="cl-57bc3ae5"><p class="cl-57bc3352"><span class="cl-57bb1a74">15.4</span></p></td><td class="cl-57bc3ae6"><p class="cl-57bc3352"><span class="cl-57bb1a74">4.8</span></p></td><td class="cl-57bc3ae5"><p class="cl-57bc3352"><span class="cl-57bb1a74">84.6</span></p></td><td class="cl-57bc3ae6"><p class="cl-57bc3352"><span class="cl-57bb1a74">4.8</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
<section id="lsay-2009" class="level1">
<h1>LSAY 2009</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reading in 2009 data</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>LSAY2009 <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"data/lsay_data/au.edu.anu.ada.ddi.30023v9_unrestricted.dta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2009 COHORT - exploring those who studied primary school teaching</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>STUDYING_TEACHERS_2009 <span class="ot">&lt;-</span> LSAY2009 <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># selecting variables for current area of study</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LBC089, LCC088, LDC088, LEC088, LFC088, LGC088, LHC088, LIC088, LJC088, LKC088) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mutate across the observation to replace 0 = not '70103', 1 = is '70103'</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(LBC089, LCC088, LDC088, LEC088, LFC088, LGC088, LHC088, LIC088, LJC088, LKC088),</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">as.character</span>(.) <span class="sc">==</span> <span class="st">'70103'</span> <span class="sc">~</span> <span class="dv">1</span>,  <span class="co"># PSE as 1</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">is.na</span>(.) <span class="sc">~</span> <span class="cn">NA_integer_</span>, <span class="co"># Retain NA</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>                   <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span>  <span class="co"># All else as 0</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>                 ))) <span class="sc">%&gt;%</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create new column where any 1 in the row = TRUE, no 1 = FALSE</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">unique_teachers =</span> <span class="fu">if_any</span>(<span class="fu">c</span>(LBC089, LCC088, LDC088, LEC088, LFC088, LGC088, LHC088, LIC088, LJC088, LKC088), <span class="sc">~</span> . <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Keep TRUE values</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(unique_teachers)</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>STUDYING_TEACHERS_2009</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 28 × 12
   STIDSTD LBC089 LCC088 LDC088 LEC088 LFC088 LGC088 LHC088 LIC088 LJC088 LKC088
   &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1 01258       NA     NA     NA     NA      0      1     NA     NA     NA     NA
 2 01386       NA     NA     NA      1     NA     NA     NA     NA     NA     NA
 3 01388       NA     NA     NA     NA     NA     NA     NA      1     NA     NA
 4 02316       NA     NA     NA     NA     NA     NA     NA      1     NA     NA
 5 02816       NA     NA     NA      1     NA     NA     NA     NA     NA     NA
 6 03779       NA     NA     NA     NA     NA     NA     NA     NA      1     NA
 7 04324       NA     NA     NA      0     NA     NA      1     NA     NA     NA
 8 05514       NA     NA     NA      0      1      0     NA     NA     NA     NA
 9 05749       NA     NA     NA     NA     NA     NA     NA      1     NA     NA
10 06376       NA     NA      1     NA     NA     NA     NA     NA     NA     NA
# ℹ 18 more rows
# ℹ 1 more variable: unique_teachers &lt;lgl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Looking at people who were at the time working as PS Teachers</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>LEGIT_TEACHERS_2009 <span class="ot">&lt;-</span> LSAY2009 <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Selecting variables for kind of work</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LBD014, LCD029, LDD029, LED029, LFD029, LGD029, LHD029, LID029, LJD029, LKD029) <span class="sc">%&gt;%</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mutate across the observation </span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(LBD014, LCD029, LDD029, LED029, LFD029, LGD029, LHD029, LID029, LJD029, LKD029),</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">as.character</span>(.) <span class="sc">==</span> <span class="st">'2412'</span> <span class="sc">~</span> <span class="dv">1</span>,  <span class="co"># PSE as 1</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">is.na</span>(.) <span class="sc">~</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>                   <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span>  <span class="co"># All else as 0</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>                 ))) <span class="sc">%&gt;%</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># column for TRUE = legit teachers, FALSE = not teachers</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">legit_teachers =</span> <span class="fu">if_any</span>(<span class="fu">c</span>(LBD014, LCD029, LDD029, LED029, LFD029, LGD029, LHD029, LID029, LJD029, LKD029), <span class="sc">~</span> . <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter for TRUE condition</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(legit_teachers)</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>LEGIT_TEACHERS_2009</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 121 × 12
   STIDSTD LBD014 LCD029 LDD029 LED029 LFD029 LGD029 LHD029 LID029 LJD029 LKD029
   &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1 00267        0      0      0      0      0      0      0      0      1      1
 2 00276       NA      0      0      0      0      0      0      0      0      1
 3 00323       NA     NA      0      0      0      0      1      1      1      1
 4 00360        0     NA      0      0      0      0      1      1      1      0
 5 00667        0      0      0     NA      0      0      0      0      1      0
 6 00734       NA     NA     NA     NA     NA     NA      1      0      0      0
 7 00798        0      0      0      0      0      0      1      1      1     NA
 8 00921        0     NA      0     NA     NA      1     NA      0      0      0
 9 00937        0      0      0      0      0      0      0      0      0      1
10 00965        0      0      0      0      0      0      1      1      0      1
# ℹ 111 more rows
# ℹ 1 more variable: legit_teachers &lt;lgl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Taking a look at what the legit teachers studied</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>teacher_jobs_2009 <span class="ot">&lt;-</span> LSAY2009[LSAY2009<span class="sc">$</span>STIDSTD <span class="sc">%in%</span> LEGIT_TEACHERS_2009<span class="sc">$</span>STIDSTD, ]</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># selecting student ID and area of study across the years</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>selected_columns <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'STIDSTD'</span>, <span class="st">'LBC089'</span>, <span class="st">'LCC088'</span>, <span class="st">'LDC088'</span>, <span class="st">'LEC088'</span>, <span class="st">'LFC088'</span>, <span class="st">'LGC088'</span>, <span class="st">'LHC088'</span>, <span class="st">'LIC088'</span>, <span class="st">'LJC088'</span>, <span class="st">'LKC088'</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>teacher_jobs_2009 <span class="ot">&lt;-</span> teacher_jobs_2009[, selected_columns]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What did they study?</p>
<table class="table">
<thead>
<tr class="header">
<th>Code</th>
<th>Field</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>90701</td>
<td>Psychology</td>
</tr>
<tr class="even">
<td>70199</td>
<td>Teacher Education, n.e.c.</td>
</tr>
<tr class="odd">
<td>79999</td>
<td>Education, n.e.c.</td>
</tr>
<tr class="even">
<td>90503</td>
<td>Children’s Services</td>
</tr>
<tr class="odd">
<td>60501</td>
<td>Pharmacy</td>
</tr>
<tr class="even">
<td>70103</td>
<td>Teacher Education: Primary</td>
</tr>
<tr class="odd">
<td>70105</td>
<td>Teacher Education: Secondary</td>
</tr>
<tr class="even">
<td>61799</td>
<td>Rehabilitation Therapies, n.e.c.</td>
</tr>
</tbody>
</table>
<p>** revisit – have to do proficiency standard **</p>
<section id="plausible-values-for-2009" class="level2">
<h2 class="anchored" data-anchor-id="plausible-values-for-2009">Plausible values for 2009</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extracting the unique teacher IDs</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>teacher_ids_2009 <span class="ot">&lt;-</span> LEGIT_TEACHERS_2009<span class="sc">$</span>STIDSTD</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>LSAY2009_teachflag <span class="ot">&lt;-</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  LSAY2009 <span class="sc">|&gt;</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">teacher =</span> <span class="fu">if_else</span>(STIDSTD <span class="sc">%in%</span> teacher_ids_2009, T, F))</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>Rrepest<span class="sc">::</span><span class="fu">Rrepest</span>(<span class="at">data =</span> LSAY2009_teachflag,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">svy =</span> <span class="st">"PISA"</span>,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">est =</span> <span class="fu">est</span>(<span class="fu">c</span>(<span class="st">"mean"</span>,<span class="st">"std"</span>),<span class="st">"pv@math"</span>),</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"teacher"</span>),</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">cm.weights =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">"w_fstr"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">80</span>)),</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">tabl =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-5fab3994{}.cl-5fa89036{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5fa89037{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5fa9ab7e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5fa9ab7f{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5fa9ab88{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5fa9ab89{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5fa9b308{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b309{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b312{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b313{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b314{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b31c{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b31d{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b326{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b327{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b328{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b329{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b330{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b331{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b332{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b333{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b33a{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b33b{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b33c{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b344{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5fa9b345{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-5fab3994"><thead><tr style="overflow-wrap:break-word;"><th rowspan="3" class="cl-5fa9b308"><p class="cl-5fa9ab7e"><span class="cl-5fa89036">teacher</span></p></th><th colspan="4" class="cl-5fa9b309"><p class="cl-5fa9ab7f"><span class="cl-5fa89036">pv@math</span></p></th></tr><tr style="overflow-wrap:break-word;"><th colspan="2" class="cl-5fa9b31c"><p class="cl-5fa9ab7f"><span class="cl-5fa89036">mean</span></p></th><th colspan="2" class="cl-5fa9b326"><p class="cl-5fa9ab7f"><span class="cl-5fa89036">std</span></p></th></tr><tr style="overflow-wrap:break-word;"><th class="cl-5fa9b328"><p class="cl-5fa9ab7f"><span class="cl-5fa89036">B</span></p></th><th class="cl-5fa9b329"><p class="cl-5fa9ab7f"><span class="cl-5fa89036">SE</span></p></th><th class="cl-5fa9b330"><p class="cl-5fa9ab7f"><span class="cl-5fa89036">B</span></p></th><th class="cl-5fa9b329"><p class="cl-5fa9ab7f"><span class="cl-5fa89036">SE</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-5fa9b331"><p class="cl-5fa9ab88"><span class="cl-5fa89037">FALSE</span></p></td><td class="cl-5fa9b332"><p class="cl-5fa9ab89"><span class="cl-5fa89037">513.7</span></p></td><td class="cl-5fa9b333"><p class="cl-5fa9ab89"><span class="cl-5fa89037">2.7</span></p></td><td class="cl-5fa9b33a"><p class="cl-5fa9ab89"><span class="cl-5fa89037">95.1</span></p></td><td class="cl-5fa9b333"><p class="cl-5fa9ab89"><span class="cl-5fa89037">2.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-5fa9b33b"><p class="cl-5fa9ab88"><span class="cl-5fa89037">TRUE</span></p></td><td class="cl-5fa9b33c"><p class="cl-5fa9ab89"><span class="cl-5fa89037">552.7</span></p></td><td class="cl-5fa9b344"><p class="cl-5fa9ab89"><span class="cl-5fa89037">7.2</span></p></td><td class="cl-5fa9b345"><p class="cl-5fa9ab89"><span class="cl-5fa89037">63.9</span></p></td><td class="cl-5fa9b344"><p class="cl-5fa9ab89"><span class="cl-5fa89037">8.4</span></p></td></tr></tbody></table></div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>LSAY2009_proficiency <span class="ot">&lt;-</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  LSAY2009_teachflag <span class="sc">|&gt;</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(PV1MATH<span class="sc">:</span>PV5MATH,</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">if_else</span>(. <span class="sc">&gt;=</span> <span class="dv">482</span>, <span class="st">"Proficient"</span>, <span class="st">"Not proficient"</span>, <span class="at">missing =</span> <span class="cn">NA_character_</span>),</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">.names =</span> <span class="st">"{col}proficient"</span>))</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>Rrepest<span class="sc">::</span><span class="fu">Rrepest</span>(<span class="at">data =</span> LSAY2009_proficiency,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">svy =</span> <span class="st">"PISA"</span>,</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">est =</span> <span class="fu">est</span>(<span class="st">"freq"</span>,<span class="st">"pv@mathproficient"</span>),</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">by =</span> <span class="st">"teacher"</span>,</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">cm.weights =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">"w_fstr"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">80</span>)), <span class="co"># Our replicate weights have different names to those in PISA 2015 </span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">tabl =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-678874f6{}.cl-6785affa{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6785b004{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6786d60a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6786d60b{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6786d614{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6786d615{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6786df06{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df10{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df11{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df12{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df13{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df1a{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df1b{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df1c{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df24{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df25{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df26{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df27{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df2e{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df2f{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6786df30{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-678874f6"><thead><tr style="overflow-wrap:break-word;"><th rowspan="3" class="cl-6786df06"><p class="cl-6786d60a"><span class="cl-6785affa">teacher</span></p></th><th colspan="2" class="cl-6786df10"><p class="cl-6786d60b"><span class="cl-6785affa">Not proficient</span></p></th><th colspan="2" class="cl-6786df10"><p class="cl-6786d60b"><span class="cl-6785affa">Proficient</span></p></th></tr><tr style="overflow-wrap:break-word;"><th colspan="4" class="cl-6786df13"><p class="cl-6786d60b"><span class="cl-6785affa">pv@mathproficient</span></p></th></tr><tr style="overflow-wrap:break-word;"><th class="cl-6786df1c"><p class="cl-6786d60b"><span class="cl-6785affa">B</span></p></th><th class="cl-6786df24"><p class="cl-6786d60b"><span class="cl-6785affa">SE</span></p></th><th class="cl-6786df1c"><p class="cl-6786d60b"><span class="cl-6785affa">B</span></p></th><th class="cl-6786df24"><p class="cl-6786d60b"><span class="cl-6785affa">SE</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-6786df25"><p class="cl-6786d614"><span class="cl-6785b004">FALSE</span></p></td><td class="cl-6786df26"><p class="cl-6786d615"><span class="cl-6785b004">36.5</span></p></td><td class="cl-6786df27"><p class="cl-6786d615"><span class="cl-6785b004">1.3</span></p></td><td class="cl-6786df26"><p class="cl-6786d615"><span class="cl-6785b004">63.5</span></p></td><td class="cl-6786df27"><p class="cl-6786d615"><span class="cl-6785b004">1.3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6786df2e"><p class="cl-6786d614"><span class="cl-6785b004">TRUE</span></p></td><td class="cl-6786df2f"><p class="cl-6786d615"><span class="cl-6785b004">10.3</span></p></td><td class="cl-6786df30"><p class="cl-6786d615"><span class="cl-6785b004">7.1</span></p></td><td class="cl-6786df2f"><p class="cl-6786d615"><span class="cl-6785b004">89.7</span></p></td><td class="cl-6786df30"><p class="cl-6786d615"><span class="cl-6785b004">7.1</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
</section>
<section id="lsay-2015" class="level1">
<h1>LSAY 2015</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>LSAY2015 <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"data/lsay_data/2_LSAY_Y15_2022_STATA_01392_general.dta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2009 COHORT - exploring those who studied primary school teaching</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>STUDYING_TEACHERS_2015 <span class="ot">&lt;-</span> LSAY2015 <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># selecting variables for current area of study</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(LSAYID, LCC088, LDC088, LEC088, LFC088, LGC088, LHC088) <span class="sc">%&gt;%</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mutate across the observation to replace 0 = not '70103', 1 = is '70103'</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(LCC088, LDC088, LEC088, LFC088, LGC088, LHC088),</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">as.character</span>(.) <span class="sc">==</span> <span class="st">'70103'</span> <span class="sc">~</span> <span class="dv">1</span>,  <span class="co"># PSE as 1</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">is.na</span>(.) <span class="sc">~</span> <span class="cn">NA_integer_</span>, <span class="co"># Retain NA</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>                   <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span>  <span class="co"># All else as 0</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>                 ))) <span class="sc">%&gt;%</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create new column where any 1 in the row = TRUE, no 1 = FALSE</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">unique_teachers =</span> <span class="fu">if_any</span>(<span class="fu">c</span>(LCC088, LDC088, LEC088, LFC088, LGC088, LHC088), <span class="sc">~</span> . <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Keep TRUE values</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(unique_teachers)</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>STUDYING_TEACHERS_2015</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 × 8
   LSAYID LCC088 LDC088 LEC088 LFC088 LGC088 LHC088 unique_teachers
    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;lgl&gt;          
 1  25143     NA     NA     NA     NA      1     NA TRUE           
 2  25239     NA     NA      1     NA     NA     NA TRUE           
 3  25314     NA     NA     NA     NA     NA      1 TRUE           
 4  19492     NA     NA      1     NA     NA     NA TRUE           
 5  16115     NA     NA     NA     NA     NA      1 TRUE           
 6  15886     NA     NA      1     NA     NA     NA TRUE           
 7  14822     NA     NA     NA      1     NA     NA TRUE           
 8  21839     NA     NA     NA     NA      1     NA TRUE           
 9  15910      1     NA     NA     NA     NA     NA TRUE           
10  23628     NA     NA     NA     NA      1     NA TRUE           
# ℹ 14 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Looking at people who were at the time working as PS Teachers</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>LEGIT_TEACHERS_2015 <span class="ot">&lt;-</span> LSAY2015 <span class="sc">%&gt;%</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Selecting variables for kind of work</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(LSAYID, LBEM004, LCD022, LDD022, LED022, LFD025, LGD022, LHD022) <span class="sc">%&gt;%</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mutate across the observation </span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(LBEM004, LCD022, LDD022, LED022, LFD025, LGD022, LHD022),</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">as.character</span>(.) <span class="sc">==</span> <span class="st">'2412'</span> <span class="sc">~</span> <span class="dv">1</span>,  <span class="co"># PSE as 1</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">is.na</span>(.) <span class="sc">~</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>                   <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span>  <span class="co"># All else as 0</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>                 ))) <span class="sc">%&gt;%</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># column for TRUE = legit teachers, FALSE = not teachers</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">legit_teachers =</span> <span class="fu">if_any</span>(<span class="fu">c</span>(LBEM004, LCD022, LDD022, LED022, LFD025, LGD022, LHD022), <span class="sc">~</span> . <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter for TRUE condition</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(legit_teachers)</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>LEGIT_TEACHERS_2015</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 31 × 9
   LSAYID LBEM004 LCD022 LDD022 LED022 LFD025 LGD022 LHD022 legit_teachers
    &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;lgl&gt;         
 1  25045      NA     NA      0      0      0      0      1 TRUE          
 2  25239      NA      0      0      0      0      0      1 TRUE          
 3  25332      NA      0     NA      0      0      0      1 TRUE          
 4  25420      NA      0      0     NA      0     NA      1 TRUE          
 5  10287      NA     NA     NA      0      0      1      0 TRUE          
 6  20594       0      0      0     NA      0      0      1 TRUE          
 7  21108       0     NA      0      0      0      0      1 TRUE          
 8  14568       0      0      0      0      0      0      1 TRUE          
 9  18706       0      0      0      0      0      0      1 TRUE          
10  10845       0      0      0      0      0      0      1 TRUE          
# ℹ 21 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Taking a look at what the legit teachers studied</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>teacher_jobs_2015 <span class="ot">&lt;-</span> LSAY2015[LSAY2015<span class="sc">$</span>LSAYID <span class="sc">%in%</span> LEGIT_TEACHERS_2015<span class="sc">$</span>LSAYID, ]</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co"># selecting student ID and area of study across the years</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>selected_columns <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'LSAYID'</span>, <span class="st">'LCC088'</span>, <span class="st">'LDC088'</span>, <span class="st">'LEC088'</span>, <span class="st">'LFC088'</span>, <span class="st">'LGC088'</span>, <span class="st">'LHC088'</span>)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>teacher_jobs_2015 <span class="ot">&lt;-</span> teacher_jobs_2015[, selected_columns]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="plausible-values-for-2015" class="level1">
<h1>Plausible values for 2015</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extracting the unique teacher IDs</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>teacher_ids_2015 <span class="ot">&lt;-</span> LEGIT_TEACHERS_2015<span class="sc">$</span>LSAYID</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>LSAY2015_teachflag <span class="ot">&lt;-</span> </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  LSAY2015 <span class="sc">|&gt;</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">teacher =</span> <span class="fu">if_else</span>(LSAYID <span class="sc">%in%</span> teacher_ids_2015, T, F))</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>Rrepest<span class="sc">::</span><span class="fu">Rrepest</span>(<span class="at">data =</span> LSAY2015_teachflag,</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">svy =</span> <span class="st">"PISA"</span>,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">est =</span> <span class="fu">est</span>(<span class="fu">c</span>(<span class="st">"mean"</span>,<span class="st">"std"</span>),<span class="st">"pv@math"</span>),</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"teacher"</span>),</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">cm.weights =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">"w_fsturwt"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">80</span>)),</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">tabl =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-6e314800{}.cl-6e2ea44c{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6e2ea456{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6e2fbd82{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6e2fbd8c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6e2fbd8d{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6e2fbd8e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6e2fc4e4{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc4e5{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc4ee{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc4ef{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc4f0{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc4f1{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc4f8{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc4f9{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc502{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc503{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc504{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc50c{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc50d{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc516{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6e2fc517{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-6e314800"><thead><tr style="overflow-wrap:break-word;"><th rowspan="3" class="cl-6e2fc4e4"><p class="cl-6e2fbd82"><span class="cl-6e2ea44c">teacher</span></p></th><th colspan="4" class="cl-6e2fc4e5"><p class="cl-6e2fbd8c"><span class="cl-6e2ea44c">pv@math</span></p></th></tr><tr style="overflow-wrap:break-word;"><th colspan="2" class="cl-6e2fc4f0"><p class="cl-6e2fbd8c"><span class="cl-6e2ea44c">mean</span></p></th><th colspan="2" class="cl-6e2fc4f1"><p class="cl-6e2fbd8c"><span class="cl-6e2ea44c">std</span></p></th></tr><tr style="overflow-wrap:break-word;"><th class="cl-6e2fc4f9"><p class="cl-6e2fbd8c"><span class="cl-6e2ea44c">B</span></p></th><th class="cl-6e2fc502"><p class="cl-6e2fbd8c"><span class="cl-6e2ea44c">SE</span></p></th><th class="cl-6e2fc502"><p class="cl-6e2fbd8c"><span class="cl-6e2ea44c">B</span></p></th><th class="cl-6e2fc502"><p class="cl-6e2fbd8c"><span class="cl-6e2ea44c">SE</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-6e2fc503"><p class="cl-6e2fbd8d"><span class="cl-6e2ea456">FALSE</span></p></td><td class="cl-6e2fc504"><p class="cl-6e2fbd8e"><span class="cl-6e2ea456">494.0</span></p></td><td class="cl-6e2fc50c"><p class="cl-6e2fbd8e"><span class="cl-6e2ea456">1.8</span></p></td><td class="cl-6e2fc50c"><p class="cl-6e2fbd8e"><span class="cl-6e2ea456">92.5</span></p></td><td class="cl-6e2fc50c"><p class="cl-6e2fbd8e"><span class="cl-6e2ea456">0.9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6e2fc50d"><p class="cl-6e2fbd8d"><span class="cl-6e2ea456">TRUE</span></p></td><td class="cl-6e2fc516"><p class="cl-6e2fbd8e"><span class="cl-6e2ea456">519.4</span></p></td><td class="cl-6e2fc517"><p class="cl-6e2fbd8e"><span class="cl-6e2ea456">20.2</span></p></td><td class="cl-6e2fc517"><p class="cl-6e2fbd8e"><span class="cl-6e2ea456">61.0</span></p></td><td class="cl-6e2fc517"><p class="cl-6e2fbd8e"><span class="cl-6e2ea456">19.0</span></p></td></tr></tbody></table></div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>LSAY2015_proficiency <span class="ot">&lt;-</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  LSAY2015_teachflag <span class="sc">|&gt;</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(PV1MATH<span class="sc">:</span>PV5MATH,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">if_else</span>(. <span class="sc">&gt;=</span> <span class="dv">482</span>, <span class="st">"Proficient"</span>, <span class="st">"Not proficient"</span>, <span class="at">missing =</span> <span class="cn">NA_character_</span>),</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">.names =</span> <span class="st">"{col}proficient"</span>))</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>Rrepest<span class="sc">::</span><span class="fu">Rrepest</span>(<span class="at">data =</span> LSAY2015_proficiency,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">svy =</span> <span class="st">"PISA"</span>,</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">est =</span> <span class="fu">est</span>(<span class="st">"freq"</span>,<span class="st">"pv@mathproficient"</span>),</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">by =</span> <span class="st">"teacher"</span>,</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">cm.weights =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">"w_fsturwt"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">80</span>)), </span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">tabl =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-75aa72dc{}.cl-75a73f5e{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-75a73f68{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-75a896c4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-75a896c5{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-75a896ce{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-75a896cf{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-75a89ff2{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a89ffc{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a89ffd{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a006{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a007{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a008{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a010{width:0.795in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a011{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a012{width:0.498in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a01a{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a01b{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a01c{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a01d{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a024{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75a8a025{width:0.498in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-75aa72dc"><thead><tr style="overflow-wrap:break-word;"><th rowspan="3" class="cl-75a89ff2"><p class="cl-75a896c4"><span class="cl-75a73f5e">teacher</span></p></th><th colspan="2" class="cl-75a89ffc"><p class="cl-75a896c5"><span class="cl-75a73f5e">Not proficient</span></p></th><th colspan="2" class="cl-75a89ffc"><p class="cl-75a896c5"><span class="cl-75a73f5e">Proficient</span></p></th><th colspan="2" class="cl-75a89ffd"><p class="cl-75a896c5"><span class="cl-75a73f5e">NA</span></p></th></tr><tr style="overflow-wrap:break-word;"><th colspan="6" class="cl-75a8a007"><p class="cl-75a896c5"><span class="cl-75a73f5e">pv@mathproficient</span></p></th></tr><tr style="overflow-wrap:break-word;"><th class="cl-75a8a011"><p class="cl-75a896c5"><span class="cl-75a73f5e">B</span></p></th><th class="cl-75a8a011"><p class="cl-75a896c5"><span class="cl-75a73f5e">SE</span></p></th><th class="cl-75a8a011"><p class="cl-75a896c5"><span class="cl-75a73f5e">B</span></p></th><th class="cl-75a8a011"><p class="cl-75a896c5"><span class="cl-75a73f5e">SE</span></p></th><th class="cl-75a8a012"><p class="cl-75a896c5"><span class="cl-75a73f5e">B</span></p></th><th class="cl-75a8a012"><p class="cl-75a896c5"><span class="cl-75a73f5e">SE</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-75a8a01a"><p class="cl-75a896ce"><span class="cl-75a73f68">FALSE</span></p></td><td class="cl-75a8a01b"><p class="cl-75a896cf"><span class="cl-75a73f68">44.3</span></p></td><td class="cl-75a8a01b"><p class="cl-75a896cf"><span class="cl-75a73f68">1.0</span></p></td><td class="cl-75a8a01b"><p class="cl-75a896cf"><span class="cl-75a73f68">55.7</span></p></td><td class="cl-75a8a01b"><p class="cl-75a896cf"><span class="cl-75a73f68">1.0</span></p></td><td class="cl-75a8a01c"><p class="cl-75a896cf"><span class="cl-75a73f68">0.0</span></p></td><td class="cl-75a8a01c"><p class="cl-75a896cf"><span class="cl-75a73f68">0.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-75a8a01d"><p class="cl-75a896ce"><span class="cl-75a73f68">TRUE</span></p></td><td class="cl-75a8a024"><p class="cl-75a896cf"><span class="cl-75a73f68">24.6</span></p></td><td class="cl-75a8a024"><p class="cl-75a896cf"><span class="cl-75a73f68">14.2</span></p></td><td class="cl-75a8a024"><p class="cl-75a896cf"><span class="cl-75a73f68">75.4</span></p></td><td class="cl-75a8a024"><p class="cl-75a896cf"><span class="cl-75a73f68">14.2</span></p></td><td class="cl-75a8a025"><p class="cl-75a896cf"><span class="cl-75a73f68">0.0</span></p></td><td class="cl-75a8a025"><p class="cl-75a896cf"><span class="cl-75a73f68">0.0</span></p></td></tr></tbody></table></div>
</div>
</div>
<section id="quantiles-across-the-years" class="level2">
<h2 class="anchored" data-anchor-id="quantiles-across-the-years">Quantiles Across the Years</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#2003</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>mathcut <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">358</span>, <span class="dv">420</span>, <span class="dv">482</span>, <span class="dv">545</span>, <span class="dv">607</span>, <span class="dv">669</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>data_2003 <span class="ot">&lt;-</span> <span class="fu">pisa.per.pv</span>(<span class="at">pvlabel =</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">data =</span> LSAY2003_teachflag, <span class="at">by =</span> <span class="st">"teacher"</span>, <span class="at">per =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">75</span>, <span class="dv">90</span>))</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">pisa.ben.pv</span>(<span class="at">pvlabel=</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">cutoff=</span> mathcut, <span class="at">by=</span><span class="st">"teacher"</span>, <span class="at">data=</span>LSAY2003_teachflag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># BOXPLOT FOR 2003</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>data_2003_summary <span class="ot">&lt;-</span> data_2003 <span class="sc">%&gt;%</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(teacher) <span class="sc">%&gt;%</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymin =</span> <span class="fu">min</span>(Score),</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">lower =</span> Score[Percentiles <span class="sc">==</span> <span class="dv">25</span>],</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">middle =</span> <span class="fu">median</span>(Score),</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> Score[Percentiles <span class="sc">==</span> <span class="dv">75</span>],</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymax =</span> <span class="fu">max</span>(Score)</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_2003_summary, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(teacher))) <span class="sc">+</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">'orange'</span>, <span class="at">color =</span> <span class="st">"black"</span>,</span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> ymin, <span class="at">lower =</span> lower, <span class="at">middle =</span> middle, <span class="at">upper =</span> upper, <span class="at">ymax =</span> ymax),</span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> <span class="st">"identity"</span></span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">482</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of PISA Math Scores - 2003"</span>,</span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Teacher"</span>,</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Score"</span>) <span class="sc">+</span></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2006</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>data_2006 <span class="ot">&lt;-</span> <span class="fu">pisa.per.pv</span>(<span class="at">pvlabel =</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">data =</span> LSAY2006_teachflag, <span class="at">by =</span> <span class="st">"teacher"</span>, <span class="at">per =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">75</span>, <span class="dv">90</span>))</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">pisa.ben.pv</span>(<span class="at">pvlabel=</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">cutoff=</span> mathcut, <span class="at">by=</span><span class="st">"teacher"</span>, <span class="at">data=</span>LSAY2006_teachflag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   teacher       Benchmark Percentage Std. err.
1    FALSE At or above 358      96.67      0.27
2    FALSE At or above 420      86.94      0.58
3    FALSE At or above 482      66.34      0.93
4    FALSE At or above 545      39.18      0.99
5    FALSE At or above 607      16.38      0.79
6    FALSE At or above 669       4.30      0.46
7     TRUE At or above 358      99.91      0.24
8     TRUE At or above 420      98.06      1.89
9     TRUE At or above 482      85.01      4.43
10    TRUE At or above 545      54.32      6.57
11    TRUE At or above 607      20.67      4.40
12    TRUE At or above 669       4.49      2.78</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># BOXPLOT FOR 2006</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>data_2006_summary <span class="ot">&lt;-</span> data_2006 <span class="sc">%&gt;%</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(teacher) <span class="sc">%&gt;%</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymin =</span> <span class="fu">min</span>(Score),</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">lower =</span> Score[Percentiles <span class="sc">==</span> <span class="dv">25</span>],</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">middle =</span> <span class="fu">median</span>(Score),</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> Score[Percentiles <span class="sc">==</span> <span class="dv">75</span>],</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymax =</span> <span class="fu">max</span>(Score)</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_2006_summary, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(teacher))) <span class="sc">+</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">'orange'</span>, <span class="at">color =</span> <span class="st">"black"</span>,</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> ymin, <span class="at">lower =</span> lower, <span class="at">middle =</span> middle, <span class="at">upper =</span> upper, <span class="at">ymax =</span> ymax),</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> <span class="st">"identity"</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">482</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of PISA Math Scores - 2006"</span>,</span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Teacher"</span>,</span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Score"</span>) <span class="sc">+</span></span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>data_2006 <span class="ot">&lt;-</span> data_2006 <span class="sc">|&gt;</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Percentiles =</span> Percentiles, <span class="at">Score =</span> Score, <span class="at">Std_err =</span> <span class="st">'Std. err.'</span>, <span class="at">teacher =</span> teacher)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>base_chart <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data_2006, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(Percentiles), <span class="at">y =</span> Score, <span class="at">fill =</span> <span class="fu">as.factor</span>(teacher))) <span class="sc">+</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> Score <span class="sc">-</span> Std_err, <span class="at">ymax =</span> Score <span class="sc">+</span> Std_err), </span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.9</span>), <span class="at">width =</span> <span class="fl">0.25</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Scores at Different Percentiles by Teacher Status"</span>,</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"PISA 2006 Math Scores for Teachers and Non-Teachers Across Percentiles"</span>,</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Percentiles"</span>,</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Score"</span>,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Teacher"</span>) <span class="sc">+</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">482</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>base_chart <span class="sc">+</span> </span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_grattan</span>(<span class="at">chart_type =</span>  <span class="st">"bar"</span>) <span class="sc">+</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grattan_colour_manual</span>(<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grattan_y_continuous</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2009</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>data_2009 <span class="ot">&lt;-</span> <span class="fu">pisa.per.pv</span>(<span class="at">pvlabel =</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">data =</span> LSAY2009_teachflag, <span class="at">by =</span> <span class="st">"teacher"</span>, <span class="at">per =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">75</span>, <span class="dv">90</span>))</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="fu">pisa.ben.pv</span>(<span class="at">pvlabel=</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">cutoff=</span> mathcut, <span class="at">by=</span><span class="st">"teacher"</span>, <span class="at">data=</span>LSAY2009_teachflag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   teacher       Benchmark Percentage Std. err.
1    FALSE At or above 358      94.83      0.33
2    FALSE At or above 420      84.02      0.67
3    FALSE At or above 482      63.91      0.98
4    FALSE At or above 545      37.98      1.11
5    FALSE At or above 607      16.40      0.91
6    FALSE At or above 669       4.50      0.56
7     TRUE At or above 358     100.00      0.00
8     TRUE At or above 420      99.18      1.32
9     TRUE At or above 482      86.99      4.08
10    TRUE At or above 545      48.07      4.88
11    TRUE At or above 607      19.22      4.65
12    TRUE At or above 669       5.17      2.90</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># BOXPLOT FOR 2009</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>data_2009_summary <span class="ot">&lt;-</span> data_2009 <span class="sc">%&gt;%</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(teacher) <span class="sc">%&gt;%</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymin =</span> <span class="fu">min</span>(Score),</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">lower =</span> Score[Percentiles <span class="sc">==</span> <span class="dv">25</span>],</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">middle =</span> <span class="fu">median</span>(Score),</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> Score[Percentiles <span class="sc">==</span> <span class="dv">75</span>],</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymax =</span> <span class="fu">max</span>(Score)</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_2009_summary, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(teacher))) <span class="sc">+</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">'orange'</span>, <span class="at">color =</span> <span class="st">"black"</span>,</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> ymin, <span class="at">lower =</span> lower, <span class="at">middle =</span> middle, <span class="at">upper =</span> upper, <span class="at">ymax =</span> ymax),</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> <span class="st">"identity"</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">482</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of PISA Math Scores - 2009"</span>,</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Teacher"</span>,</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Score"</span>) <span class="sc">+</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>data_2009 <span class="ot">&lt;-</span> data_2009 <span class="sc">|&gt;</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Percentiles =</span> Percentiles, <span class="at">Score =</span> Score, <span class="at">Std_err =</span> <span class="st">'Std. err.'</span>, <span class="at">teacher =</span> teacher)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>base_chart_2009 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data_2009, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(Percentiles), <span class="at">y =</span> Score, <span class="at">fill =</span> <span class="fu">as.factor</span>(teacher))) <span class="sc">+</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> Score <span class="sc">-</span> Std_err, <span class="at">ymax =</span> Score <span class="sc">+</span> Std_err), </span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.9</span>), <span class="at">width =</span> <span class="fl">0.25</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Scores at Different Percentiles by Teacher Status"</span>,</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"PISA 2009 Math Scores for Teachers and Non-Teachers Across Percentiles"</span>,</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Percentiles"</span>,</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Score"</span>,</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Teacher"</span>) <span class="sc">+</span></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">482</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>base_chart_2009 <span class="sc">+</span> </span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_grattan</span>(<span class="at">chart_type =</span>  <span class="st">"bar"</span>) <span class="sc">+</span></span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grattan_colour_manual</span>(<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grattan_y_continuous</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Quantiles for 2015</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>data_2015 <span class="ot">&lt;-</span> <span class="fu">pisa.per.pv</span>(<span class="at">pvlabel =</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="st">"MATH"</span>), <span class="at">data =</span> LSAY2015_teachflag, <span class="at">by =</span> <span class="st">"teacher"</span>, <span class="at">per =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">75</span>, <span class="dv">90</span>))</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">pisa.mean.pv</span>(<span class="at">pvlabel =</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">data =</span> LSAY2003_teachflag, <span class="at">by =</span> <span class="st">"teacher"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  teacher  Freq   Mean s.e.    SD  s.e
1   FALSE 10226 529.80 2.06 93.80 1.52
2    TRUE   144 549.55 5.87 65.14 3.96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pisa.ben.pv</span>(<span class="at">pvlabel=</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="st">"MATH"</span>), <span class="at">cutoff=</span> mathcut, <span class="at">by=</span><span class="st">"teacher"</span>, <span class="at">data=</span>LSAY2015_teachflag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   teacher       Benchmark Percentage Std. err.
1    FALSE At or above 358      92.39      0.43
2    FALSE At or above 420      78.02      0.61
3    FALSE At or above 482      55.53      0.84
4    FALSE At or above 545      29.86      0.72
5    FALSE At or above 607      11.34      0.61
6    FALSE At or above 669       2.73      0.28
7     TRUE At or above 358      96.91      5.30
8     TRUE At or above 420      91.34      7.41
9     TRUE At or above 482      72.94     10.82
10    TRUE At or above 545      43.67     13.14
11    TRUE At or above 607      10.65      8.53
12    TRUE At or above 669       0.21      0.93</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co"># BOXPLOT FOR 2015</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>data_2015_summary <span class="ot">&lt;-</span> data_2015 <span class="sc">%&gt;%</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(teacher) <span class="sc">%&gt;%</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymin =</span> <span class="fu">min</span>(Score),</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">lower =</span> Score[Percentiles <span class="sc">==</span> <span class="dv">25</span>],</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">middle =</span> <span class="fu">median</span>(Score),</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> Score[Percentiles <span class="sc">==</span> <span class="dv">75</span>],</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymax =</span> <span class="fu">max</span>(Score)</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_2015_summary, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(teacher))) <span class="sc">+</span></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">'orange'</span>, <span class="at">color =</span> <span class="st">"black"</span>,</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> ymin, <span class="at">lower =</span> lower, <span class="at">middle =</span> middle, <span class="at">upper =</span> upper, <span class="at">ymax =</span> ymax),</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> <span class="st">"identity"</span></span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">482</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of PISA Math Scores - 2015"</span>,</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Teacher"</span>,</span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Score"</span>) <span class="sc">+</span></span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>data_2015 <span class="ot">&lt;-</span> data_2015 <span class="sc">|&gt;</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Percentiles =</span> Percentiles, <span class="at">Score =</span> Score, <span class="at">Std_err =</span> <span class="st">'Std. err.'</span>, <span class="at">teacher =</span> teacher)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>base_chart_2015 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data_2015, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(Percentiles), <span class="at">y =</span> Score, <span class="at">fill =</span> <span class="fu">as.factor</span>(teacher))) <span class="sc">+</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> Score <span class="sc">-</span> Std_err, <span class="at">ymax =</span> Score <span class="sc">+</span> Std_err), </span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.9</span>), <span class="at">width =</span> <span class="fl">0.25</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Scores at Different Percentiles by Teacher Status"</span>,</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"PISA 2015 Math Scores for Teachers and Non-Teachers Across Percentiles"</span>,</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Percentiles"</span>,</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Score"</span>,</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Teacher"</span>) <span class="sc">+</span></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">482</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>base_chart_2015 <span class="sc">+</span> </span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_grattan</span>(<span class="at">chart_type =</span>  <span class="st">"bar"</span>) <span class="sc">+</span></span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grattan_colour_manual</span>(<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grattan_y_continuous</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggdist)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>data_2003 <span class="ot">&lt;-</span> data_2003 <span class="sc">|&gt;</span> </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a> <span class="co"># rename(Percentiles = Percentiles, Score = Score, Std_err = 'Std. err.', teacher = teacher) |&gt; </span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="dv">2003</span>)</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>data_2006 <span class="ot">&lt;-</span> data_2006 <span class="sc">|&gt;</span> </span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#rename(Percentiles = Percentiles, Score = Score, Std_err = 'Std. err.', teacher = teacher) |&gt; </span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="dv">2006</span>)</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>data_2009 <span class="ot">&lt;-</span> data_2009 <span class="sc">|&gt;</span> </span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">#rename(Percentiles = Percentiles, Score = Score, Std_err = 'Std. err.', teacher = teacher) |&gt; </span></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="dv">2009</span>)</span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>data_2015 <span class="ot">&lt;-</span> data_2015 <span class="sc">|&gt;</span> </span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">#rename(Percentiles = Percentiles, Score = Score, Std_err = 'Std. err.', teacher = teacher) |&gt; </span></span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="dv">2015</span>)</span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine datasets</span></span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a>data_combined <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(data_2003, data_2006, data_2009, data_2015)</span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-26"><a href="#cb61-26" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(data_combined))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  teacher Percentiles  Score Std. err. Year Std_err
1   FALSE          10 406.79      2.72 2003      NA
2   FALSE          25 465.18      2.50 2003      NA
3   FALSE          75 595.95      2.43 2003      NA
4   FALSE          90 648.90      2.97 2003      NA
5    TRUE          10 465.18     11.80 2003      NA
6    TRUE          25 501.89      7.24 2003      NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>data_combined <span class="ot">&lt;-</span> data_combined <span class="sc">%&gt;%</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">teacher =</span> <span class="fu">as.factor</span>(teacher))</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>data_combined <span class="sc">|&gt;</span> </span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span> teacher, <span class="at">xdist =</span> <span class="fu">dist_normal</span>(Score,))) <span class="sc">+</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_interval</span>() <span class="sc">+</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Manual t-test calculation for 2003</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>mean_FALSE <span class="ot">&lt;-</span> <span class="fl">530.3</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>mean_TRUE <span class="ot">&lt;-</span> <span class="fl">554.0</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>sd_FALSE <span class="ot">&lt;-</span> <span class="fl">92.9</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>sd_TRUE <span class="ot">&lt;-</span> <span class="fl">64.8</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>n_FALSE <span class="ot">&lt;-</span> <span class="dv">10226</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>n_TRUE <span class="ot">&lt;-</span> <span class="dv">144</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>se <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((<span class="fl">92.9</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="dv">10226</span>) <span class="sc">+</span> (<span class="fl">64.8</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="dv">144</span>)) <span class="co"># For Welch's t-test</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>t_value <span class="ot">&lt;-</span> (mean_FALSE <span class="sc">-</span> mean_TRUE) <span class="sc">/</span> se</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="co"># approx dof</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> ( (sd_FALSE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_FALSE) <span class="sc">+</span> (sd_TRUE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_TRUE) )<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>      ( ((sd_FALSE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_FALSE)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (n_FALSE <span class="sc">-</span> <span class="dv">1</span>)) <span class="sc">+</span> ((sd_TRUE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_TRUE)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (n_TRUE <span class="sc">-</span> <span class="dv">1</span>)) )</span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a><span class="co"># p-value</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>p_value <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">pt</span>(t_value, <span class="at">df =</span> df, <span class="at">lower.tail =</span> <span class="cn">TRUE</span>)</span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>p_value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.736183e-05</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>t_value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -4.326722</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Manual t-test calculation for 2006</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="co">#pisa.mean.pv(pvlabel = paste0("PV", 1:5, "MATH"), data = LSAY2006_teachflag, by = "teacher")</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>mean_FALSE <span class="ot">&lt;-</span> <span class="fl">518.6</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>mean_TRUE <span class="ot">&lt;-</span> <span class="fl">550.7</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>sd_FALSE <span class="ot">&lt;-</span> <span class="fl">87.9</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>sd_TRUE <span class="ot">&lt;-</span> <span class="fl">67.2</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>n_FALSE <span class="ot">&lt;-</span> <span class="dv">14054</span></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>n_TRUE <span class="ot">&lt;-</span> <span class="dv">116</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>se <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((<span class="fl">87.9</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="dv">14054</span>) <span class="sc">+</span> (<span class="fl">67.2</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="dv">116</span>)) <span class="co"># For Welch's t-test</span></span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>t_value <span class="ot">&lt;-</span> (mean_FALSE <span class="sc">-</span> mean_TRUE) <span class="sc">/</span> se</span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a><span class="co"># approx dof - essentially 2 less than the total number of observations</span></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> ( (sd_FALSE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_FALSE) <span class="sc">+</span> (sd_TRUE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_TRUE) )<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>      ( ((sd_FALSE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_FALSE)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (n_FALSE <span class="sc">-</span> <span class="dv">1</span>)) <span class="sc">+</span> ((sd_TRUE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_TRUE)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (n_TRUE <span class="sc">-</span> <span class="dv">1</span>)) )</span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a><span class="co"># p-value</span></span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a>p_value <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">pt</span>(t_value, <span class="at">df =</span> df, <span class="at">lower.tail =</span> <span class="cn">TRUE</span>)</span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a>p_value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.258092e-06</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>t_value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -5.108809</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Manual t-test calculation for 2009</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="co">#pisa.mean.pv(pvlabel = paste0("PV", 1:5, "MATH"), data = LSAY2009_teachflag, by = "teacher")</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>mean_FALSE <span class="ot">&lt;-</span> <span class="fl">513.7</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>mean_TRUE <span class="ot">&lt;-</span> <span class="fl">552.7</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>sd_FALSE <span class="ot">&lt;-</span> <span class="fl">95.1</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>sd_TRUE <span class="ot">&lt;-</span> <span class="fl">63.9</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>n_FALSE <span class="ot">&lt;-</span> <span class="dv">14130</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>n_TRUE <span class="ot">&lt;-</span> <span class="dv">121</span></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>se <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((<span class="fl">95.1</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="dv">14130</span>) <span class="sc">+</span> (<span class="fl">63.9</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="dv">121</span>)) <span class="co"># For Welch's t-test</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>t_value <span class="ot">&lt;-</span> (mean_FALSE <span class="sc">-</span> mean_TRUE) <span class="sc">/</span> se</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a><span class="co"># approx dof</span></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> ( (sd_FALSE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_FALSE) <span class="sc">+</span> (sd_TRUE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_TRUE) )<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>      ( ((sd_FALSE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_FALSE)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (n_FALSE <span class="sc">-</span> <span class="dv">1</span>)) <span class="sc">+</span> ((sd_TRUE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_TRUE)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (n_TRUE <span class="sc">-</span> <span class="dv">1</span>)) )</span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a><span class="co"># p-value</span></span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a>p_value <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">pt</span>(t_value, <span class="at">df =</span> df, <span class="at">lower.tail =</span> <span class="cn">TRUE</span>)</span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a>p_value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8.224439e-10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>t_value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -6.650838</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Manual t-test calculation for 2015</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pisa.mean.pv</span>(<span class="at">pvlabel =</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">data =</span> LSAY2015_teachflag, <span class="at">by =</span> <span class="st">"teacher"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  teacher  Freq   Mean  s.e.    SD   s.e
1   FALSE 14503 493.82  1.66 92.46  0.90
2    TRUE    27 522.16 19.06 67.75 11.77</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>mean_FALSE <span class="ot">&lt;-</span> <span class="fl">494.0</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>mean_TRUE <span class="ot">&lt;-</span> <span class="fl">519.4</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>sd_FALSE <span class="ot">&lt;-</span> <span class="fl">92.5</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>sd_TRUE <span class="ot">&lt;-</span> <span class="fl">61.0</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>n_FALSE <span class="ot">&lt;-</span> <span class="dv">14503</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>n_TRUE <span class="ot">&lt;-</span> <span class="dv">27</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>se <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((<span class="fl">92.5</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="dv">14503</span>) <span class="sc">+</span> (<span class="fl">61.0</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="dv">27</span>)) <span class="co"># For Welch's t-test</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>t_value <span class="ot">&lt;-</span> (mean_FALSE <span class="sc">-</span> mean_TRUE) <span class="sc">/</span> se</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a><span class="co"># approx dof</span></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> ( (sd_FALSE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_FALSE) <span class="sc">+</span> (sd_TRUE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_TRUE) )<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>      ( ((sd_FALSE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_FALSE)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (n_FALSE <span class="sc">-</span> <span class="dv">1</span>)) <span class="sc">+</span> ((sd_TRUE<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> n_TRUE)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (n_TRUE <span class="sc">-</span> <span class="dv">1</span>)) )</span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a><span class="co"># p-value</span></span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a>p_value <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">pt</span>(t_value, <span class="at">df =</span> df, <span class="at">lower.tail =</span> <span class="cn">TRUE</span>)</span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>p_value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.04017306</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>t_value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -2.159027</code></pre>
</div>
</div>
</section>
<section id="comparing-teacher-performance-with-other-professionals" class="level2">
<h2 class="anchored" data-anchor-id="comparing-teacher-performance-with-other-professionals">Comparing Teacher Performance with other Professionals</h2>
<p>Starting with 2003 first as it has the largest sample of teachers. looking at other professions at the end of the waves.</p>
<ul>
<li><p>medical practitioners,</p></li>
<li><p>midwifery and nursing professionals</p></li>
<li><p>legal professionals,</p></li>
<li><p>accounts auditors and company secretaries</p></li>
<li><p>engineering professionals</p></li>
</ul>
<table class="table">
<thead>
<tr class="header">
<th>Professionals</th>
<th>ANSZCO Code</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Medical Practitioners</td>
<td>253</td>
</tr>
<tr class="even">
<td>Midwifery and Nursing Professionals</td>
<td>254</td>
</tr>
<tr class="odd">
<td>Legal professionals</td>
<td>271</td>
</tr>
<tr class="even">
<td>accounts auditors and company secretaries</td>
<td>221</td>
</tr>
<tr class="odd">
<td>Engineering professionals</td>
<td>233</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Adapting the code earlier to see the frequency of each profession in the last wave</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>UNIQUE_PROFESSIONALS_Y03 <span class="ot">&lt;-</span> LSAY2003 <span class="sc">%&gt;%</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Selecting last wave variable related to question: 'What kind of work do you do?'</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STIDSTD, LKD029) <span class="sc">%&gt;%</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(LKD029), as.character)) <span class="sc">%&gt;%</span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">profession =</span> <span class="fu">case_when</span>(</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>    LKD029 <span class="sc">==</span> <span class="st">'2412'</span> <span class="sc">~</span> <span class="dv">1</span>,  <span class="co"># Teacher = 1</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">startsWith</span>(LKD029, <span class="st">'253'</span>)  <span class="sc">~</span> <span class="dv">2</span>,  <span class="co"># Medical Practitioners = 2</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">startsWith</span>(LKD029, <span class="st">'254'</span>)  <span class="sc">~</span> <span class="dv">3</span>,  <span class="co"># Midwifery and Nursing Professionals = 3</span></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">startsWith</span>(LKD029, <span class="st">'271'</span>)  <span class="sc">~</span> <span class="dv">4</span>,  <span class="co"># Legal Professionals = 4</span></span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">startsWith</span>(LKD029, <span class="st">'221'</span>)  <span class="sc">~</span> <span class="dv">5</span>,  <span class="co"># Accounts Auditors and Company Secretaries = 5</span></span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">startsWith</span>(LKD029, <span class="st">'233'</span>)  <span class="sc">~</span> <span class="dv">6</span>,  <span class="co"># Engineering Professionals = 6</span></span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(LKD029) <span class="sc">~</span> <span class="cn">NA_integer_</span>, <span class="co"># NA values retained</span></span>
<span id="cb82-14"><a href="#cb82-14" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span> <span class="co"># All others = 0</span></span>
<span id="cb82-15"><a href="#cb82-15" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb82-16"><a href="#cb82-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># keeping 1:6 professions</span></span>
<span id="cb82-17"><a href="#cb82-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(profession <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(profession))</span>
<span id="cb82-18"><a href="#cb82-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-19"><a href="#cb82-19" aria-hidden="true" tabindex="-1"></a><span class="co"># frequency of each profession</span></span>
<span id="cb82-20"><a href="#cb82-20" aria-hidden="true" tabindex="-1"></a>profession_frequency <span class="ot">&lt;-</span> UNIQUE_PROFESSIONALS_Y03 <span class="sc">%&gt;%</span></span>
<span id="cb82-21"><a href="#cb82-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(profession) <span class="sc">%&gt;%</span></span>
<span id="cb82-22"><a href="#cb82-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb82-23"><a href="#cb82-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">Profession =</span> <span class="fu">case_when</span>(</span>
<span id="cb82-24"><a href="#cb82-24" aria-hidden="true" tabindex="-1"></a>      profession <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Teacher'</span>,</span>
<span id="cb82-25"><a href="#cb82-25" aria-hidden="true" tabindex="-1"></a>      profession <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Medical Practitioners'</span>,</span>
<span id="cb82-26"><a href="#cb82-26" aria-hidden="true" tabindex="-1"></a>      profession <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Midwifery and Nursing Professionals'</span>,</span>
<span id="cb82-27"><a href="#cb82-27" aria-hidden="true" tabindex="-1"></a>      profession <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Legal Professionals'</span>,</span>
<span id="cb82-28"><a href="#cb82-28" aria-hidden="true" tabindex="-1"></a>      profession <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Accounts Auditors and Company Secretaries'</span>,</span>
<span id="cb82-29"><a href="#cb82-29" aria-hidden="true" tabindex="-1"></a>      profession <span class="sc">==</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">'Engineering Professionals'</span></span>
<span id="cb82-30"><a href="#cb82-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb82-31"><a href="#cb82-31" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Adapting the code to include different professions</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>LSAY2003_profession_flag <span class="ot">&lt;-</span> LSAY2003 <span class="sc">%&gt;%</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">LKD029 =</span> <span class="fu">as.character</span>(LKD029)) <span class="sc">%&gt;%</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">profession =</span> <span class="fu">case_when</span>(</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>    LKD029 <span class="sc">==</span> <span class="st">'2412'</span> <span class="sc">~</span> <span class="st">'Teacher'</span>,</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">startsWith</span>(LKD029, <span class="st">'253'</span>) <span class="sc">~</span> <span class="st">'Medical Practitioners'</span>,</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">startsWith</span>(LKD029, <span class="st">'254'</span>) <span class="sc">~</span> <span class="st">'Midwifery and Nursing Professionals'</span>,</span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">startsWith</span>(LKD029, <span class="st">'271'</span>) <span class="sc">~</span> <span class="st">'Legal Professionals'</span>,</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">startsWith</span>(LKD029, <span class="st">'221'</span>) <span class="sc">~</span> <span class="st">'Accounts Auditors and Company Secretaries'</span>,</span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">startsWith</span>(LKD029, <span class="st">'233'</span>) <span class="sc">~</span> <span class="st">'Engineering Professionals'</span>,</span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">'Other'</span></span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a>Rrepest<span class="sc">::</span><span class="fu">Rrepest</span>(</span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> LSAY2003_profession_flag,</span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">svy =</span> <span class="st">"PISA"</span>,</span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">est =</span> <span class="fu">est</span>(<span class="fu">c</span>(<span class="st">"mean"</span>,<span class="st">"std"</span>),<span class="st">"pv@math"</span>),</span>
<span id="cb83-18"><a href="#cb83-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"profession"</span>),</span>
<span id="cb83-19"><a href="#cb83-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">cm.weights =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">"w_fstr"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">80</span>)),</span>
<span id="cb83-20"><a href="#cb83-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">tabl =</span> <span class="cn">TRUE</span></span>
<span id="cb83-21"><a href="#cb83-21" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-a263dafc{}.cl-a261172c{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a2611736{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a2623986{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a2623990{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a2623991{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a262399a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a262414c{width:3.325in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624156{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624157{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624160{width:3.325in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624161{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624162{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a262416a{width:3.325in;background-color:rgba(217, 225, 242, 1.00);vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a262416b{width:0.668in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a262416c{width:0.583in;background-color:rgba(217, 225, 242, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(190, 190, 190, 1.00);border-right: 0.5pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624174{width:3.325in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624175{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624176{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624177{width:3.325in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a262417e{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a262417f{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624188{width:3.325in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624189{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a262418a{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a262418b{width:3.325in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624192{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a2624193{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a262419c{width:3.325in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a262419d{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a262419e{width:0.583in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-a263dafc"><thead><tr style="overflow-wrap:break-word;"><th rowspan="3" class="cl-a262414c"><p class="cl-a2623986"><span class="cl-a261172c">profession</span></p></th><th colspan="4" class="cl-a2624156"><p class="cl-a2623990"><span class="cl-a261172c">pv@math</span></p></th></tr><tr style="overflow-wrap:break-word;"><th colspan="2" class="cl-a2624161"><p class="cl-a2623990"><span class="cl-a261172c">mean</span></p></th><th colspan="2" class="cl-a2624162"><p class="cl-a2623990"><span class="cl-a261172c">std</span></p></th></tr><tr style="overflow-wrap:break-word;"><th class="cl-a262416b"><p class="cl-a2623990"><span class="cl-a261172c">B</span></p></th><th class="cl-a262416c"><p class="cl-a2623990"><span class="cl-a261172c">SE</span></p></th><th class="cl-a262416c"><p class="cl-a2623990"><span class="cl-a261172c">B</span></p></th><th class="cl-a262416c"><p class="cl-a2623990"><span class="cl-a261172c">SE</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-a2624174"><p class="cl-a2623991"><span class="cl-a2611736">Accounts Auditors and Company Secretaries</span></p></td><td class="cl-a2624175"><p class="cl-a262399a"><span class="cl-a2611736">601.8</span></p></td><td class="cl-a2624176"><p class="cl-a262399a"><span class="cl-a2611736">17.8</span></p></td><td class="cl-a2624176"><p class="cl-a262399a"><span class="cl-a2611736">71.6</span></p></td><td class="cl-a2624176"><p class="cl-a262399a"><span class="cl-a2611736">18.4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-a2624177"><p class="cl-a2623991"><span class="cl-a2611736">Engineering Professionals</span></p></td><td class="cl-a262417e"><p class="cl-a262399a"><span class="cl-a2611736">628.1</span></p></td><td class="cl-a262417f"><p class="cl-a262399a"><span class="cl-a2611736">18.0</span></p></td><td class="cl-a262417f"><p class="cl-a262399a"><span class="cl-a2611736">75.4</span></p></td><td class="cl-a262417f"><p class="cl-a262399a"><span class="cl-a2611736">7.3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-a2624177"><p class="cl-a2623991"><span class="cl-a2611736">Legal Professionals</span></p></td><td class="cl-a262417e"><p class="cl-a262399a"><span class="cl-a2611736">629.6</span></p></td><td class="cl-a262417f"><p class="cl-a262399a"><span class="cl-a2611736">22.4</span></p></td><td class="cl-a262417f"><p class="cl-a262399a"><span class="cl-a2611736">68.1</span></p></td><td class="cl-a262417f"><p class="cl-a262399a"><span class="cl-a2611736">11.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-a2624188"><p class="cl-a2623991"><span class="cl-a2611736">Medical Practitioners</span></p></td><td class="cl-a2624189"><p class="cl-a262399a"><span class="cl-a2611736">664.5</span></p></td><td class="cl-a262418a"><p class="cl-a262399a"><span class="cl-a2611736">11.9</span></p></td><td class="cl-a262418a"><p class="cl-a262399a"><span class="cl-a2611736">56.1</span></p></td><td class="cl-a262418a"><p class="cl-a262399a"><span class="cl-a2611736">11.4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-a2624177"><p class="cl-a2623991"><span class="cl-a2611736">Midwifery and Nursing Professionals</span></p></td><td class="cl-a262417e"><p class="cl-a262399a"><span class="cl-a2611736">560.5</span></p></td><td class="cl-a262417f"><p class="cl-a262399a"><span class="cl-a2611736">11.8</span></p></td><td class="cl-a262417f"><p class="cl-a262399a"><span class="cl-a2611736">72.9</span></p></td><td class="cl-a262417f"><p class="cl-a262399a"><span class="cl-a2611736">9.7</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-a262418b"><p class="cl-a2623991"><span class="cl-a2611736">Other</span></p></td><td class="cl-a2624192"><p class="cl-a262399a"><span class="cl-a2611736">527.4</span></p></td><td class="cl-a2624193"><p class="cl-a262399a"><span class="cl-a2611736">2.3</span></p></td><td class="cl-a2624193"><p class="cl-a262399a"><span class="cl-a2611736">92.0</span></p></td><td class="cl-a2624193"><p class="cl-a262399a"><span class="cl-a2611736">2.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-a262419c"><p class="cl-a2623991"><span class="cl-a2611736">Teacher</span></p></td><td class="cl-a262419d"><p class="cl-a262399a"><span class="cl-a2611736">562.7</span></p></td><td class="cl-a262419e"><p class="cl-a262399a"><span class="cl-a2611736">10.2</span></p></td><td class="cl-a262419e"><p class="cl-a262399a"><span class="cl-a2611736">62.8</span></p></td><td class="cl-a262419e"><p class="cl-a262399a"><span class="cl-a2611736">7.0</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>https://scc.ms.unimelb.edu.au/resources/graphs-for-statistical-analysis/graphs * how to show standard error/explain simply</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co">#70th percentile</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pisa.per.pv</span>(<span class="at">pvlabel=</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,<span class="st">"MATH"</span>),</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="at">per=</span><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">70</span>, <span class="dv">90</span>), <span class="at">data=</span> LSAY2003)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Percentiles  Score Std. err.
1          10 407.27      2.67
2          25 465.90      2.46
3          70 582.26      2.50
4          90 648.61      3.00</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Finding how many teachers are above the 70th percentile: '582.26'</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pisa.ben.pv</span>(<span class="at">pvlabel=</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,<span class="st">"MATH"</span>), <span class="at">cutoff=</span><span class="fl">582.26</span>, <span class="at">by=</span><span class="st">"teacher"</span>, <span class="at">data=</span>LSAY2003_teachflag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  teacher          Benchmark Percentage Std. err.
1   FALSE At or above 582.26      30.06      0.95
2    TRUE At or above 582.26      31.91      5.80</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Trying out different visualisations</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Seeing if we can get some standard deviations in</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 2003 Visualisations (To replace boxplots/barcharts)</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>visualisation_2003 <span class="ot">&lt;-</span> <span class="fu">pisa.mean.pv</span>(<span class="at">pvlabel =</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">by =</span> <span class="st">"teacher"</span>, <span class="at">data =</span> LSAY2003_teachflag)</span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(visualisation_2003)[<span class="fu">which</span>(<span class="fu">names</span>(visualisation_2003) <span class="sc">==</span> <span class="st">"s.e"</span>)[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="st">"SD_s.e"</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>distributions_2003 <span class="ot">&lt;-</span> visualisation_2003 <span class="sc">|&gt;</span> </span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span> teacher, <span class="at">xdist =</span> <span class="fu">dist_normal</span>(Mean, SD))) <span class="sc">+</span></span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_interval</span>() <span class="sc">+</span></span>
<span id="cb88-13"><a href="#cb88-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Mean), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb88-14"><a href="#cb88-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Teachers at 15 years-old were slightly more likely to be proficient in math compared to the general population"</span>,</span>
<span id="cb88-15"><a href="#cb88-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Distribution of {colour_text('#FF0000','Pisa 2003')} Mathematical Proficiency scores for teachers and non-teachers"</span>),</span>
<span id="cb88-16"><a href="#cb88-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Score"</span>,</span>
<span id="cb88-17"><a href="#cb88-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Teacher"</span>,</span>
<span id="cb88-18"><a href="#cb88-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Source: Longitudinal Surveys of Australian Youth, 2003 cohort (Version 7.1)"</span>) <span class="sc">+</span></span>
<span id="cb88-19"><a href="#cb88-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">482</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb88-20"><a href="#cb88-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">y =</span> <span class="fl">1.5</span>, <span class="at">x =</span> <span class="dv">475</span>, <span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="sc">-</span>.<span class="dv">15</span>, <span class="at">label =</span> <span class="st">"Proficiency benchmark"</span>) <span class="sc">+</span></span>
<span id="cb88-21"><a href="#cb88-21" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_y_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"Teacher"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"Non-Teacher"</span>))  <span class="sc">+</span></span>
<span id="cb88-22"><a href="#cb88-22" aria-hidden="true" tabindex="-1"></a>   <span class="fu">xlim</span>(<span class="dv">300</span>, <span class="dv">750</span>)</span>
<span id="cb88-23"><a href="#cb88-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-24"><a href="#cb88-24" aria-hidden="true" tabindex="-1"></a>combined_label <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"</span></span>
<span id="cb88-25"><a href="#cb88-25" aria-hidden="true" tabindex="-1"></a><span class="st">  Mean SE (Teachers): {round(visualisation_2003$s.e[visualisation_2003$teacher == TRUE], 2)}</span><span class="sc">\n</span></span>
<span id="cb88-26"><a href="#cb88-26" aria-hidden="true" tabindex="-1"></a><span class="st">  SD SE (Teachers): {round(visualisation_2003$SD_s.e[visualisation_2003$teacher == TRUE], 2)}</span><span class="sc">\n</span></span>
<span id="cb88-27"><a href="#cb88-27" aria-hidden="true" tabindex="-1"></a><span class="st">  Mean SE (Non-Teachers): {round(visualisation_2003$s.e[visualisation_2003$teacher == FALSE], 2)}</span><span class="sc">\n</span></span>
<span id="cb88-28"><a href="#cb88-28" aria-hidden="true" tabindex="-1"></a><span class="st">  SD SE (Non-Teachers): {round(visualisation_2003$SD_s.e[visualisation_2003$teacher == FALSE], 2)}</span></span>
<span id="cb88-29"><a href="#cb88-29" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb88-30"><a href="#cb88-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-31"><a href="#cb88-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the combined label as a single annotation</span></span>
<span id="cb88-32"><a href="#cb88-32" aria-hidden="true" tabindex="-1"></a>distributions_2003 <span class="ot">&lt;-</span> distributions_2003 <span class="sc">+</span></span>
<span id="cb88-33"><a href="#cb88-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"label"</span>, <span class="at">x =</span> <span class="dv">650</span>, <span class="at">y =</span> <span class="fl">0.62</span>, <span class="at">size =</span> <span class="fl">2.8</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">label =</span> combined_label, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">fill =</span> <span class="st">"burlywood1"</span>)</span>
<span id="cb88-34"><a href="#cb88-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-35"><a href="#cb88-35" aria-hidden="true" tabindex="-1"></a> distributions_2003 <span class="sc">+</span></span>
<span id="cb88-36"><a href="#cb88-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_grattan</span>(<span class="at">chart_type =</span> <span class="st">"bar"</span>, <span class="at">flipped =</span> T) <span class="sc">+</span></span>
<span id="cb88-37"><a href="#cb88-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.subtitle =</span> <span class="fu">element_markdown</span>(<span class="at">lineheight =</span> <span class="fl">1.1</span>), <span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb88-38"><a href="#cb88-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grattan_colour_manual</span>(<span class="dv">3</span>, <span class="at">faded_level =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb88-39"><a href="#cb88-39" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"grey80"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grattan_save_pptx</span>(<span class="at">filename =</span> <span class="st">"atlas/StatInterval_Plot2003.pptx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2006 Visualisations (To replace boxplots/barcharts)</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>visualisation_2006 <span class="ot">&lt;-</span> <span class="fu">pisa.mean.pv</span>(<span class="at">pvlabel =</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">by =</span> <span class="st">"teacher"</span>, <span class="at">data =</span> LSAY2006_teachflag)</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(visualisation_2006)[<span class="fu">which</span>(<span class="fu">names</span>(visualisation_2006) <span class="sc">==</span> <span class="st">"s.e"</span>)[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="st">"SD_s.e"</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>distributions_2006 <span class="ot">&lt;-</span> visualisation_2006 <span class="sc">|&gt;</span> </span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span> teacher, <span class="at">xdist =</span> <span class="fu">dist_normal</span>(Mean, SD))) <span class="sc">+</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_interval</span>() <span class="sc">+</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Mean), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Teachers at 15 years-old were slightly more likely to be proficient in math compared to the general population"</span>,</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Distribution of {colour_text('#FF0000','Pisa 2006')} Mathematical Proficiency scores for teachers and non-teachers"</span>),</span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Score"</span>,</span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Teacher"</span>,</span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Source: Longitudinal Surveys of Australian Youth, 2006 cohort (Version 7.1)"</span>) <span class="sc">+</span></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">482</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">y =</span> <span class="fl">1.5</span>, <span class="at">x =</span> <span class="dv">475</span>, <span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="sc">-</span>.<span class="dv">15</span>, <span class="at">label =</span> <span class="st">"Proficiency benchmark"</span>) <span class="sc">+</span></span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_y_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"Teacher"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"Non-Teacher"</span>))  <span class="sc">+</span></span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a>   <span class="fu">xlim</span>(<span class="dv">300</span>, <span class="dv">750</span>)</span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a>combined_label <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"</span></span>
<span id="cb90-22"><a href="#cb90-22" aria-hidden="true" tabindex="-1"></a><span class="st">  Mean SE (Teachers): {round(visualisation_2006$s.e[visualisation_2006$teacher == TRUE], 2)}</span><span class="sc">\n</span></span>
<span id="cb90-23"><a href="#cb90-23" aria-hidden="true" tabindex="-1"></a><span class="st">  SD SE (Teachers): {round(visualisation_2006$SD_s.e[visualisation_2006$teacher == TRUE], 2)}</span><span class="sc">\n</span></span>
<span id="cb90-24"><a href="#cb90-24" aria-hidden="true" tabindex="-1"></a><span class="st">  Mean SE (Non-Teachers): {round(visualisation_2006$s.e[visualisation_2006$teacher == FALSE], 2)}</span><span class="sc">\n</span></span>
<span id="cb90-25"><a href="#cb90-25" aria-hidden="true" tabindex="-1"></a><span class="st">  SD SE (Non-Teachers): {round(visualisation_2006$SD_s.e[visualisation_2006$teacher == FALSE], 2)}</span></span>
<span id="cb90-26"><a href="#cb90-26" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb90-27"><a href="#cb90-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-28"><a href="#cb90-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the combined label as a single annotation</span></span>
<span id="cb90-29"><a href="#cb90-29" aria-hidden="true" tabindex="-1"></a>distributions_2006 <span class="ot">&lt;-</span> distributions_2006 <span class="sc">+</span></span>
<span id="cb90-30"><a href="#cb90-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"label"</span>, <span class="at">x =</span> <span class="dv">650</span>, <span class="at">y =</span> <span class="fl">0.62</span>, <span class="at">size =</span> <span class="fl">2.8</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">label =</span> combined_label, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">fill =</span> <span class="st">"burlywood1"</span>)</span>
<span id="cb90-31"><a href="#cb90-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-32"><a href="#cb90-32" aria-hidden="true" tabindex="-1"></a> distributions_2006 <span class="sc">+</span></span>
<span id="cb90-33"><a href="#cb90-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_grattan</span>(<span class="at">chart_type =</span> <span class="st">"bar"</span>, <span class="at">flipped =</span> T) <span class="sc">+</span></span>
<span id="cb90-34"><a href="#cb90-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.subtitle =</span> <span class="fu">element_markdown</span>(<span class="at">lineheight =</span> <span class="fl">1.1</span>), <span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb90-35"><a href="#cb90-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grattan_colour_manual</span>(<span class="dv">3</span>, <span class="at">faded_level =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb90-36"><a href="#cb90-36" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"grey80"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grattan_save_pptx</span>(<span class="at">filename =</span> <span class="st">"atlas/StatInterval_Plot2006.pptx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2009 Visualisations (To replace boxplots/barcharts)</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>visualisation_2009 <span class="ot">&lt;-</span> <span class="fu">pisa.mean.pv</span>(<span class="at">pvlabel =</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"MATH"</span>), <span class="at">by =</span> <span class="st">"teacher"</span>, <span class="at">data =</span> LSAY2009_teachflag)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(visualisation_2009)[<span class="fu">which</span>(<span class="fu">names</span>(visualisation_2009) <span class="sc">==</span> <span class="st">"s.e"</span>)[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="st">"SD_s.e"</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>distributions_2009 <span class="ot">&lt;-</span> visualisation_2009 <span class="sc">|&gt;</span> </span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span> teacher, <span class="at">xdist =</span> <span class="fu">dist_normal</span>(Mean, SD))) <span class="sc">+</span></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_interval</span>() <span class="sc">+</span></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Mean), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Teachers at 15 years-old were slightly more likely to be proficient in math compared to the general population"</span>,</span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Distribution of {colour_text('#FF0000','PISA 2009')} Mathematical Proficiency scores for teachers and non-teachers"</span>),</span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Score"</span>,</span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Teacher"</span>,</span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Source: Longitudinal Surveys of Australian Youth, 2009 cohort (Version 7.1)"</span>) <span class="sc">+</span></span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">482</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">y =</span> <span class="fl">1.5</span>, <span class="at">x =</span> <span class="dv">475</span>, <span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="sc">-</span>.<span class="dv">15</span>, <span class="at">label =</span> <span class="st">"Proficiency benchmark"</span>) <span class="sc">+</span></span>
<span id="cb92-18"><a href="#cb92-18" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_y_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"Teacher"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"Non-Teacher"</span>))  <span class="sc">+</span></span>
<span id="cb92-19"><a href="#cb92-19" aria-hidden="true" tabindex="-1"></a>   <span class="fu">xlim</span>(<span class="dv">300</span>, <span class="dv">750</span>)</span>
<span id="cb92-20"><a href="#cb92-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-21"><a href="#cb92-21" aria-hidden="true" tabindex="-1"></a>combined_label <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"</span></span>
<span id="cb92-22"><a href="#cb92-22" aria-hidden="true" tabindex="-1"></a><span class="st">  Mean SE (Teachers): {round(visualisation_2009$s.e[visualisation_2009$teacher == TRUE], 2)}</span><span class="sc">\n</span></span>
<span id="cb92-23"><a href="#cb92-23" aria-hidden="true" tabindex="-1"></a><span class="st">  SD SE (Teachers): {round(visualisation_2009$SD_s.e[visualisation_2009$teacher == TRUE], 2)}</span><span class="sc">\n</span></span>
<span id="cb92-24"><a href="#cb92-24" aria-hidden="true" tabindex="-1"></a><span class="st">  Mean SE (Non-Teachers): {round(visualisation_2009$s.e[visualisation_2009$teacher == FALSE], 2)}</span><span class="sc">\n</span></span>
<span id="cb92-25"><a href="#cb92-25" aria-hidden="true" tabindex="-1"></a><span class="st">  SD SE (Non-Teachers): {round(visualisation_2009$SD_s.e[visualisation_2009$teacher == FALSE], 2)}</span></span>
<span id="cb92-26"><a href="#cb92-26" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb92-27"><a href="#cb92-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-28"><a href="#cb92-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the combined label as a single annotation</span></span>
<span id="cb92-29"><a href="#cb92-29" aria-hidden="true" tabindex="-1"></a>distributions_2009 <span class="ot">&lt;-</span> distributions_2009 <span class="sc">+</span></span>
<span id="cb92-30"><a href="#cb92-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"label"</span>, <span class="at">x =</span> <span class="dv">650</span>, <span class="at">y =</span> <span class="fl">0.62</span>, <span class="at">size =</span> <span class="fl">2.8</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">label =</span> combined_label, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">fill =</span> <span class="st">"burlywood1"</span>)</span>
<span id="cb92-31"><a href="#cb92-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-32"><a href="#cb92-32" aria-hidden="true" tabindex="-1"></a> distributions_2009 <span class="sc">+</span></span>
<span id="cb92-33"><a href="#cb92-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_grattan</span>(<span class="at">chart_type =</span> <span class="st">"bar"</span>, <span class="at">flipped =</span> T) <span class="sc">+</span></span>
<span id="cb92-34"><a href="#cb92-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.subtitle =</span> <span class="fu">element_markdown</span>(<span class="at">lineheight =</span> <span class="fl">1.1</span>), <span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb92-35"><a href="#cb92-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grattan_colour_manual</span>(<span class="dv">3</span>, <span class="at">faded_level =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb92-36"><a href="#cb92-36" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"grey80"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grattan_save_pptx</span>(<span class="at">filename =</span> <span class="st">"atlas/StatInterval_Plot2009.pptx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>visualisation_2015 <span class="ot">&lt;-</span> <span class="fu">pisa.mean.pv</span>(<span class="at">pvlabel =</span> <span class="fu">paste0</span>(<span class="st">"PV"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="st">"MATH"</span>), <span class="at">by =</span> <span class="st">"teacher"</span>, <span class="at">data =</span> LSAY2015_teachflag)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(visualisation_2015)[<span class="fu">which</span>(<span class="fu">names</span>(visualisation_2015) <span class="sc">==</span> <span class="st">"s.e"</span>)[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="st">"SD_s.e"</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>distributions_2015 <span class="ot">&lt;-</span> visualisation_2015 <span class="sc">|&gt;</span> </span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span> teacher, <span class="at">xdist =</span> <span class="fu">dist_normal</span>(Mean, SD))) <span class="sc">+</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_interval</span>() <span class="sc">+</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Mean), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Teachers at 15 years-old were slightly more likely to be proficient in math compared to the general population"</span>,</span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Distribution of {colour_text('#FF0000','PISA 2015')} Mathematical Proficiency scores for teachers and non-teachers"</span>),</span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Score"</span>,</span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Teacher"</span>,</span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Source: Longitudinal Surveys of Australian Youth, 2015 cohort (Version 7.1)"</span>) <span class="sc">+</span></span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">482</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">y =</span> <span class="fl">1.5</span>, <span class="at">x =</span> <span class="dv">475</span>, <span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="sc">-</span>.<span class="dv">15</span>, <span class="at">label =</span> <span class="st">"Proficiency benchmark"</span>) <span class="sc">+</span></span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_y_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"Teacher"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"Non-Teacher"</span>)) <span class="sc">+</span></span>
<span id="cb94-18"><a href="#cb94-18" aria-hidden="true" tabindex="-1"></a>   <span class="fu">xlim</span>(<span class="dv">300</span>, <span class="dv">750</span>)</span>
<span id="cb94-19"><a href="#cb94-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-20"><a href="#cb94-20" aria-hidden="true" tabindex="-1"></a>combined_label <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"</span></span>
<span id="cb94-21"><a href="#cb94-21" aria-hidden="true" tabindex="-1"></a><span class="st">  Mean SE (Teachers): {round(visualisation_2015$s.e[visualisation_2015$teacher == TRUE], 2)}</span><span class="sc">\n</span></span>
<span id="cb94-22"><a href="#cb94-22" aria-hidden="true" tabindex="-1"></a><span class="st">  SD SE (Teachers): {round(visualisation_2015$SD_s.e[visualisation_2015$teacher == TRUE], 2)}</span><span class="sc">\n</span></span>
<span id="cb94-23"><a href="#cb94-23" aria-hidden="true" tabindex="-1"></a><span class="st">  Mean SE (Non-Teachers): {round(visualisation_2015$s.e[visualisation_2015$teacher == FALSE], 2)}</span><span class="sc">\n</span></span>
<span id="cb94-24"><a href="#cb94-24" aria-hidden="true" tabindex="-1"></a><span class="st">  SD SE (Non-Teachers): {round(visualisation_2015$SD_s.e[visualisation_2015$teacher == FALSE], 2)}</span></span>
<span id="cb94-25"><a href="#cb94-25" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb94-26"><a href="#cb94-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-27"><a href="#cb94-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the combined label as a single annotation</span></span>
<span id="cb94-28"><a href="#cb94-28" aria-hidden="true" tabindex="-1"></a>distributions_2015 <span class="ot">&lt;-</span> distributions_2015 <span class="sc">+</span></span>
<span id="cb94-29"><a href="#cb94-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"label"</span>, <span class="at">x =</span> <span class="dv">650</span>, <span class="at">y =</span> <span class="fl">0.62</span>, <span class="at">size =</span> <span class="fl">2.8</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">label =</span> combined_label, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">fill =</span> <span class="st">"burlywood1"</span>)</span>
<span id="cb94-30"><a href="#cb94-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-31"><a href="#cb94-31" aria-hidden="true" tabindex="-1"></a> distributions_2015 <span class="sc">+</span></span>
<span id="cb94-32"><a href="#cb94-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_grattan</span>(<span class="at">chart_type =</span> <span class="st">"bar"</span>, <span class="at">flipped =</span> T) <span class="sc">+</span></span>
<span id="cb94-33"><a href="#cb94-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.subtitle =</span> <span class="fu">element_markdown</span>(<span class="at">lineheight =</span> <span class="fl">1.1</span>), <span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb94-34"><a href="#cb94-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grattan_colour_manual</span>(<span class="dv">3</span>, <span class="at">faded_level =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb94-35"><a href="#cb94-35" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"grey80"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LSAY_EDA_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grattan_save_pptx</span>(<span class="at">filename =</span> <span class="st">"atlas/StatInterval_Plot2015.pptx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>